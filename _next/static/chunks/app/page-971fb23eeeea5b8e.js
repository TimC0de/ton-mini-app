(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8924:function(){},5024:function(){},3608:function(n,e,t){Promise.resolve().then(t.bind(t,2980))},2980:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return I}});var r=t(7437),i=t(4808);function s(){var n,e;let[t]=(0,i.dG)(),r=(0,i.EK)();return{sender:{send:async n=>{var e;t.sendTransaction({messages:[{address:n.to.toString(),amount:n.value.toString(),payload:null===(e=n.body)||void 0===e?void 0:e.toBoc().toString("base64")}],validUntil:Date.now()+3e5})}},connected:!!(null==r?void 0:r.account.address),wallet:null!==(n=null==r?void 0:r.account.address)&&void 0!==n?n:null,network:null!==(e=null==r?void 0:r.account.chain)&&void 0!==e?e:null}}var o=t(8646),l=t(506);function d(){let n=(0,o._)(["\n  padding: 18px 20px;\n  border-radius: 8px;\n  background-color: white;\n\n  @media (prefers-color-scheme: dark) {\n    background-color: #111;\n  }\n"]);return d=function(){return n},n}function a(){let n=(0,o._)(["\n  display: flex;\n  flex-direction: row;\n  gap: 10px;\n  align-items: center;\n"]);return a=function(){return n},n}function c(){let n=(0,o._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n"]);return c=function(){return n},n}function u(){let n=(0,o._)(["\n  background-color: ",";\n  border: 0;\n  border-radius: 8px;\n  padding: 10px 20px;\n  color: var(--tg-theme-button-text-color);\n  font-weight: 700;\n  cursor: pointer;\n  pointer-events: ",";\n"]);return u=function(){return n},n}function f(){let n=(0,o._)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return f=function(){return n},n}function p(){let n=(0,o._)(["\n  padding: 10px 20px;\n  border-radius: 10px;\n  width: 100%;\n  border: 1px solid #c2c2c2;\n\n  @media (prefers-color-scheme: dark) {\n    border: 1px solid #fefefe;\n  }\n"]);return p=function(){return n},n}let h=l.ZP.div(d()),x=l.ZP.div(a()),v=l.ZP.div(c()),g=l.ZP.button(u(),n=>n.disabled?"#6e6e6e":"var(--tg-theme-button-color)",n=>n.disabled?"none":"inherit"),b=l.ZP.div(f());(0,l.ZP)("input")(p());var m=t(8731),w=t(2265);function j(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],[t,r]=(0,w.useState)();return(0,w.useEffect)(()=>{(async()=>{r(await n())})()},e),t}var y=t(5122),_=t(4990),A=t(7431),N=t(467);class C{async sendMintFromFaucet(n,e,t){let r=(0,N.beginCell)().storeUint(21,32).storeUint(0,64).storeAddress(t).storeCoins((0,N.toNano)("0.02")).storeRef((0,N.beginCell)().storeUint(395134233,32).storeUint(0,64).storeCoins((0,N.toNano)(150)).storeAddress(null).storeAddress(t).storeCoins((0,N.toNano)("0.001")).storeBit(!1).endCell()).endCell();await n.internal(e,{value:(0,N.toNano)("0.05"),body:r})}async getWalletAddress(n,e){let{stack:t}=await n.get("get_wallet_address",[{type:"slice",cell:(0,N.beginCell)().storeAddress(e).endCell()}]);return t.readAddress().toString()}constructor(n,e){(0,A._)(this,"address",void 0),(0,A._)(this,"init",void 0),this.address=n,this.init=e}}class k{async getBalance(n){let{stack:e}=await n.get("get_wallet_data",[]);return(0,_.fromNano)(e.readBigNumber())}constructor(n,e){(0,A._)(this,"address",void 0),(0,A._)(this,"init",void 0),this.address=n,this.init=e}}var E=t(5640);function S(){let{connected:n}=s(),{mint:e,jettonWalletAddress:t,balance:i}=function(){let{wallet:n,sender:e}=s(),{client:t}=function(){let{network:n}=s();return{client:j(async()=>{if(n)return new _.TonClient({endpoint:await (0,y.getHttpEndpoint)({network:n===m.sX.MAINNET?"mainnet":"testnet"})})},[n])}}(),r=j(async()=>{if(!t||!n)return;let e=new C(N.Address.parse("EQCzRhbMJlcv1eL0YUTmejG11iZo9a-zSRGyHpxijF9En6JA"));return t.open(e)},[t,n]),i=j(async()=>{if(!r||!t)return;let e=await r.getWalletAddress(N.Address.parse(n));return t.open(new k(N.Address.parse(e)))},[r,t]),{data:o,isFetching:l}=(0,E.a)(["jetton"],async()=>i?(await i.getBalance()).toString():null,{refetchInterval:3e3});return{mint:()=>{null==r||r.sendMintFromFaucet(e,N.Address.parse(n))},jettonWalletAddress:null==i?void 0:i.address.toString(),balance:l?null:o}}();return(0,r.jsx)(h,{title:"Jetton",children:(0,r.jsxs)(v,{children:[(0,r.jsx)("h3",{children:"Faucet Jetton"}),(0,r.jsxs)(x,{children:["Wallet",(0,r.jsx)(b,{children:t})]}),(0,r.jsxs)(x,{children:["Balance",(0,r.jsx)("div",{children:null!=i?i:"Loading..."})]}),(0,r.jsx)(g,{disabled:!n,onClick:async()=>{e()},children:"Get jettons from faucet"})]})})}var P=t(8320);function U(){let n=(0,P.I9)(),e=(0,w.useMemo)(()=>{if(!n)return"Init data is empty.";let{authDate:e,chat:t,hash:r,canSendAfter:i,queryId:s,receiver:o,user:l,startParam:d}=n;return JSON.stringify({authDate:e,chat:t,hash:r,canSendAfter:i,queryId:s,receiver:o,user:l,startParam:d},null," ")},[n]);return(0,r.jsx)(h,{title:"TelegramUserInfo",children:(0,r.jsx)(x,{children:(0,r.jsx)("code",{children:e})})})}var F=t(7835),Z=t(7079);let B=new F.S({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function I(){let{network:n}=s();return(0,r.jsx)(i.LD,{manifestUrl:"https://raw.githubusercontent.com/ton-community/tutorials/main/03-client/test/public/tonconnect-manifest.json",children:(0,r.jsx)(Z.aH,{client:B,children:(0,r.jsxs)(v,{children:[(0,r.jsxs)(x,{children:[(0,r.jsx)(i.P6,{}),(0,r.jsx)(g,{children:n?n===m.sX.MAINNET?"mainnet":"testnet":"N/A"})]}),(0,r.jsx)(S,{}),(0,r.jsx)(U,{})]})})})}}},function(n){n.O(0,[552,320,796,971,23,744],function(){return n(n.s=3608)}),_N_E=n.O()}]);