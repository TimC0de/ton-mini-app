(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[904],{4808:function(e,t,n){"use strict";n.d(t,{EK:function(){return C},LD:function(){return m},P6:function(){return O},dG:function(){return E}});var r,i=n(2265),o=n(8217),s=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,h=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&u(e,n,t[n]);return e},p=(e,t)=>{var n={};for(var r in e)c.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))0>t.indexOf(r)&&l.call(e,r)&&(n[r]=e[r]);return n},d={exports:{}},f={};d.exports=function(){if(r)return f;r=1;var e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(t,r,i){var a,c={},l=null,u=null;for(a in void 0!==i&&(l=""+i),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)n.call(r,a)&&!s.hasOwnProperty(a)&&(c[a]=r[a]);if(t&&t.defaultProps)for(a in r=t.defaultProps)void 0===c[a]&&(c[a]=r[a]);return{$$typeof:e,type:t,key:l,ref:u,props:c,_owner:o.current}}return f.Fragment=t,f.jsx=a,f.jsxs=a,f}();let b=d.exports.jsx;function g(){return"undefined"!=typeof window}let w=(0,i.createContext)(null),y=null,m=(0,i.memo)(e=>{var{children:t}=e,n=p(e,["children"]);return g()&&!y&&(y=new o.HF(n)),b(w.Provider,{value:y,children:t})});class v extends o.BN{constructor(...e){super(...e),Object.setPrototypeOf(this,v.prototype)}}class _ extends v{constructor(...e){super(...e),Object.setPrototypeOf(this,_.prototype)}}function E(){let e=(0,i.useContext)(w),t=(0,i.useCallback)(t=>{e&&(e.uiOptions=t)},[e]);return g()?(!function(e){if(!e)throw new _("You should add <TonConnectUIProvider> on the top of the app to use TonConnect")}(e),[e,t]):[null,()=>{}]}let S="ton-connect-button",O=(0,i.memo)(({className:e,style:t})=>{let[n,r]=E();return(0,i.useEffect)(()=>(r({buttonRootId:S}),()=>r({buttonRootId:null})),[r]),b("div",{id:S,className:e,style:h({width:"fit-content"},t)})});function C(){let[e]=E(),[t,n]=(0,i.useState)((null==e?void 0:e.wallet)||null);return(0,i.useEffect)(()=>{if(e)return e.onStatusChange(e=>{n(e)})},[e]),t}},9772:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(n=(function(){return i}).apply(t,[]))&&(e.exports=n)}()},9535:function(e){"use strict";var t=function(e){var t;return!!e&&"object"==typeof e&&"[object RegExp]"!==(t=Object.prototype.toString.call(e))&&"[object Date]"!==t&&e.$$typeof!==n},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(Array.isArray(e)?[]:{},e,t):e}function i(e,t,n){return e.concat(t).map(function(e){return r(e,n)})}function o(e){return Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[])}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||t,c.cloneUnlessOtherwiseSpecified=r;var l,u,h=Array.isArray(n);return h!==Array.isArray(e)?r(n,c):h?c.arrayMerge(e,n,c):(u={},(l=c).isMergeableObject(e)&&o(e).forEach(function(t){u[t]=r(e[t],l)}),o(n).forEach(function(t){(!s(e,t)||Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))&&(s(e,t)&&l.isMergeableObject(n[t])?u[t]=(function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a})(t,l)(e[t],n[t],l):u[t]=r(n[t],l))}),u)}a.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,n){return a(e,n,t)},{})},e.exports=a},357:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(8081)},8081:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c=[],l=!1,u=-1;function h(){l&&r&&(l=!1,r.length?c=r.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=a(h);l=!0;for(var t=c.length;t;){for(r=c,c=[];++u<t;)r&&r[u].run();u=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,r),s=!1}finally{s&&delete n[e]}return o.exports}r.ab="//";var i=r(229);e.exports=i}()},6354:function(e,t,n){var r,i=n(8924).Buffer;r=function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!=typeof e)throw TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},"undefined"==typeof atob?void 0!==i.from?(e.encodeBase64=function(e){return i.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(i.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new i(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new i(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,r=atob(e),i=new Uint8Array(r.length);for(n=0;n<r.length;n++)i[n]=r.charCodeAt(n);return i}),e},e.exports?e.exports=r():(this.nacl||(this.nacl={}),this.nacl.util=r())},7085:function(e,t,n){!function(e){"use strict";var t,r=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},i=function(){throw Error("no PRNG")},o=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var a=r(),c=r([1]),l=r([56129,1]),u=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),p=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function b(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function g(e,t,n,r,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^n[r+o];return(1&s-1>>>8)-1}function w(e,t,n,r){return g(e,t,n,r,16)}function y(e,t,n,r){return g(e,t,n,r,32)}function m(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,p=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,v=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=o,E=s,S=a,O=c,C=l,x=u,R=h,k=p,T=d,P=f,A=b,U=g,N=w,L=y,j=m,I=v,q=0;q<20;q+=2)C^=(i=_+N|0)<<7|i>>>25,T^=(i=C+_|0)<<9|i>>>23,N^=(i=T+C|0)<<13|i>>>19,_^=(i=N+T|0)<<18|i>>>14,P^=(i=x+E|0)<<7|i>>>25,L^=(i=P+x|0)<<9|i>>>23,E^=(i=L+P|0)<<13|i>>>19,x^=(i=E+L|0)<<18|i>>>14,j^=(i=A+R|0)<<7|i>>>25,S^=(i=j+A|0)<<9|i>>>23,R^=(i=S+j|0)<<13|i>>>19,A^=(i=R+S|0)<<18|i>>>14,O^=(i=I+U|0)<<7|i>>>25,k^=(i=O+I|0)<<9|i>>>23,U^=(i=k+O|0)<<13|i>>>19,I^=(i=U+k|0)<<18|i>>>14,E^=(i=_+O|0)<<7|i>>>25,S^=(i=E+_|0)<<9|i>>>23,O^=(i=S+E|0)<<13|i>>>19,_^=(i=O+S|0)<<18|i>>>14,R^=(i=x+C|0)<<7|i>>>25,k^=(i=R+x|0)<<9|i>>>23,C^=(i=k+R|0)<<13|i>>>19,x^=(i=C+k|0)<<18|i>>>14,U^=(i=A+P|0)<<7|i>>>25,T^=(i=U+A|0)<<9|i>>>23,P^=(i=T+U|0)<<13|i>>>19,A^=(i=P+T|0)<<18|i>>>14,N^=(i=I+j|0)<<7|i>>>25,L^=(i=N+I|0)<<9|i>>>23,j^=(i=L+N|0)<<13|i>>>19,I^=(i=j+L|0)<<18|i>>>14;_=_+o|0,E=E+s|0,S=S+a|0,O=O+c|0,C=C+l|0,x=x+u|0,R=R+h|0,k=k+p|0,T=T+d|0,P=P+f|0,A=A+b|0,U=U+g|0,N=N+w|0,L=L+y|0,j=j+m|0,I=I+v|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=O>>>0&255,e[13]=O>>>8&255,e[14]=O>>>16&255,e[15]=O>>>24&255,e[16]=C>>>0&255,e[17]=C>>>8&255,e[18]=C>>>16&255,e[19]=C>>>24&255,e[20]=x>>>0&255,e[21]=x>>>8&255,e[22]=x>>>16&255,e[23]=x>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=k>>>0&255,e[29]=k>>>8&255,e[30]=k>>>16&255,e[31]=k>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=A>>>0&255,e[41]=A>>>8&255,e[42]=A>>>16&255,e[43]=A>>>24&255,e[44]=U>>>0&255,e[45]=U>>>8&255,e[46]=U>>>16&255,e[47]=U>>>24&255,e[48]=N>>>0&255,e[49]=N>>>8&255,e[50]=N>>>16&255,e[51]=N>>>24&255,e[52]=L>>>0&255,e[53]=L>>>8&255,e[54]=L>>>16&255,e[55]=L>>>24&255,e[56]=j>>>0&255,e[57]=j>>>8&255,e[58]=j>>>16&255,e[59]=j>>>24&255,e[60]=I>>>0&255,e[61]=I>>>8&255,e[62]=I>>>16&255,e[63]=I>>>24&255}(e,t,n,r)}function v(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,l=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,p=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,f=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,b=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,w=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,v=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,_=o,E=s,S=a,O=c,C=l,x=u,R=h,k=p,T=d,P=f,A=b,U=g,N=w,L=y,j=m,I=v,q=0;q<20;q+=2)C^=(i=_+N|0)<<7|i>>>25,T^=(i=C+_|0)<<9|i>>>23,N^=(i=T+C|0)<<13|i>>>19,_^=(i=N+T|0)<<18|i>>>14,P^=(i=x+E|0)<<7|i>>>25,L^=(i=P+x|0)<<9|i>>>23,E^=(i=L+P|0)<<13|i>>>19,x^=(i=E+L|0)<<18|i>>>14,j^=(i=A+R|0)<<7|i>>>25,S^=(i=j+A|0)<<9|i>>>23,R^=(i=S+j|0)<<13|i>>>19,A^=(i=R+S|0)<<18|i>>>14,O^=(i=I+U|0)<<7|i>>>25,k^=(i=O+I|0)<<9|i>>>23,U^=(i=k+O|0)<<13|i>>>19,I^=(i=U+k|0)<<18|i>>>14,E^=(i=_+O|0)<<7|i>>>25,S^=(i=E+_|0)<<9|i>>>23,O^=(i=S+E|0)<<13|i>>>19,_^=(i=O+S|0)<<18|i>>>14,R^=(i=x+C|0)<<7|i>>>25,k^=(i=R+x|0)<<9|i>>>23,C^=(i=k+R|0)<<13|i>>>19,x^=(i=C+k|0)<<18|i>>>14,U^=(i=A+P|0)<<7|i>>>25,T^=(i=U+A|0)<<9|i>>>23,P^=(i=T+U|0)<<13|i>>>19,A^=(i=P+T|0)<<18|i>>>14,N^=(i=I+j|0)<<7|i>>>25,L^=(i=N+I|0)<<9|i>>>23,j^=(i=L+N|0)<<13|i>>>19,I^=(i=j+L|0)<<18|i>>>14;e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=x>>>0&255,e[5]=x>>>8&255,e[6]=x>>>16&255,e[7]=x>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=I>>>0&255,e[13]=I>>>8&255,e[14]=I>>>16&255,e[15]=I>>>24&255,e[16]=R>>>0&255,e[17]=R>>>8&255,e[18]=R>>>16&255,e[19]=R>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255}(e,t,n,r)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(e,t,n,r,i,o,s){var a,c,l=new Uint8Array(16),u=new Uint8Array(64);for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=o[c];for(;i>=64;){for(m(u,l,s,_),c=0;c<64;c++)e[t+c]=n[r+c]^u[c];for(c=8,a=1;c<16;c++)a=a+(255&l[c])|0,l[c]=255&a,a>>>=8;i-=64,t+=64,r+=64}if(i>0)for(m(u,l,s,_),c=0;c<i;c++)e[t+c]=n[r+c]^u[c];return 0}function S(e,t,n,r,i){var o,s,a=new Uint8Array(16),c=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(m(c,a,i,_),s=0;s<64;s++)e[t+s]=c[s];for(s=8,o=1;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(m(c,a,i,_),s=0;s<n;s++)e[t+s]=c[s];return 0}function O(e,t,n,r,i){var o=new Uint8Array(32);v(o,r,i,_);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return S(e,t,n,s,o)}function C(e,t,n,r,i,o,s){var a=new Uint8Array(32);v(a,o,s,_);for(var c=new Uint8Array(8),l=0;l<8;l++)c[l]=o[l+16];return E(e,t,n,r,i,c,a)}var x=function(e){var t,n,r,i,o,s,a,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=(t>>>13|n<<3)&8191,r=255&e[4]|(255&e[5])<<8,this.r[2]=(n>>>10|r<<6)&7939,i=255&e[6]|(255&e[7])<<8,this.r[3]=(r>>>7|i<<9)&8191,o=255&e[8]|(255&e[9])<<8,this.r[4]=(i>>>4|o<<12)&255,this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=(o>>>14|s<<2)&8191,a=255&e[12]|(255&e[13])<<8,this.r[7]=(s>>>11|a<<5)&8065,c=255&e[14]|(255&e[15])<<8,this.r[8]=(a>>>8|c<<8)&8191,this.r[9]=c>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function R(e,t,n,r,i,o){var s=new x(o);return s.update(n,r,i),s.finish(e,t),0}function k(e,t,n,r,i,o){var s=new Uint8Array(16);return R(s,0,n,r,i,o),w(e,t,s,0)}function T(e,t,n,r,i){var o;if(n<32)return -1;for(C(e,0,t,0,n,r,i),R(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function P(e,t,n,r,i){var o,s=new Uint8Array(32);if(n<32||(O(s,0,32,r,i),0!==k(t,16,t,32,n-32,s)))return -1;for(C(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function A(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function U(e){var t,n,r=1;for(t=0;t<16;t++)r=Math.floor((n=e[t]+r+65535)/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function L(e,t){var n,i,o,s=r(),a=r();for(n=0;n<16;n++)a[n]=t[n];for(U(a),U(a),U(a),i=0;i<2;i++){for(n=1,s[0]=a[0]-65517;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,N(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function j(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return L(n,e),L(r,t),y(n,0,r,0)}function I(e){var t=new Uint8Array(32);return L(t,e),1&t[0]}function q(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function W(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function D(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function M(e,t,n){var r,i,o=0,s=0,a=0,c=0,l=0,u=0,h=0,p=0,d=0,f=0,b=0,g=0,w=0,y=0,m=0,v=0,_=0,E=0,S=0,O=0,C=0,x=0,R=0,k=0,T=0,P=0,A=0,U=0,N=0,L=0,j=0,I=n[0],q=n[1],W=n[2],D=n[3],M=n[4],K=n[5],B=n[6],$=n[7],V=n[8],H=n[9],z=n[10],F=n[11],G=n[12],J=n[13],Q=n[14],Y=n[15];o+=(r=t[0])*I,s+=r*q,a+=r*W,c+=r*D,l+=r*M,u+=r*K,h+=r*B,p+=r*$,d+=r*V,f+=r*H,b+=r*z,g+=r*F,w+=r*G,y+=r*J,m+=r*Q,v+=r*Y,s+=(r=t[1])*I,a+=r*q,c+=r*W,l+=r*D,u+=r*M,h+=r*K,p+=r*B,d+=r*$,f+=r*V,b+=r*H,g+=r*z,w+=r*F,y+=r*G,m+=r*J,v+=r*Q,_+=r*Y,a+=(r=t[2])*I,c+=r*q,l+=r*W,u+=r*D,h+=r*M,p+=r*K,d+=r*B,f+=r*$,b+=r*V,g+=r*H,w+=r*z,y+=r*F,m+=r*G,v+=r*J,_+=r*Q,E+=r*Y,c+=(r=t[3])*I,l+=r*q,u+=r*W,h+=r*D,p+=r*M,d+=r*K,f+=r*B,b+=r*$,g+=r*V,w+=r*H,y+=r*z,m+=r*F,v+=r*G,_+=r*J,E+=r*Q,S+=r*Y,l+=(r=t[4])*I,u+=r*q,h+=r*W,p+=r*D,d+=r*M,f+=r*K,b+=r*B,g+=r*$,w+=r*V,y+=r*H,m+=r*z,v+=r*F,_+=r*G,E+=r*J,S+=r*Q,O+=r*Y,u+=(r=t[5])*I,h+=r*q,p+=r*W,d+=r*D,f+=r*M,b+=r*K,g+=r*B,w+=r*$,y+=r*V,m+=r*H,v+=r*z,_+=r*F,E+=r*G,S+=r*J,O+=r*Q,C+=r*Y,h+=(r=t[6])*I,p+=r*q,d+=r*W,f+=r*D,b+=r*M,g+=r*K,w+=r*B,y+=r*$,m+=r*V,v+=r*H,_+=r*z,E+=r*F,S+=r*G,O+=r*J,C+=r*Q,x+=r*Y,p+=(r=t[7])*I,d+=r*q,f+=r*W,b+=r*D,g+=r*M,w+=r*K,y+=r*B,m+=r*$,v+=r*V,_+=r*H,E+=r*z,S+=r*F,O+=r*G,C+=r*J,x+=r*Q,R+=r*Y,d+=(r=t[8])*I,f+=r*q,b+=r*W,g+=r*D,w+=r*M,y+=r*K,m+=r*B,v+=r*$,_+=r*V,E+=r*H,S+=r*z,O+=r*F,C+=r*G,x+=r*J,R+=r*Q,k+=r*Y,f+=(r=t[9])*I,b+=r*q,g+=r*W,w+=r*D,y+=r*M,m+=r*K,v+=r*B,_+=r*$,E+=r*V,S+=r*H,O+=r*z,C+=r*F,x+=r*G,R+=r*J,k+=r*Q,T+=r*Y,b+=(r=t[10])*I,g+=r*q,w+=r*W,y+=r*D,m+=r*M,v+=r*K,_+=r*B,E+=r*$,S+=r*V,O+=r*H,C+=r*z,x+=r*F,R+=r*G,k+=r*J,T+=r*Q,P+=r*Y,g+=(r=t[11])*I,w+=r*q,y+=r*W,m+=r*D,v+=r*M,_+=r*K,E+=r*B,S+=r*$,O+=r*V,C+=r*H,x+=r*z,R+=r*F,k+=r*G,T+=r*J,P+=r*Q,A+=r*Y,w+=(r=t[12])*I,y+=r*q,m+=r*W,v+=r*D,_+=r*M,E+=r*K,S+=r*B,O+=r*$,C+=r*V,x+=r*H,R+=r*z,k+=r*F,T+=r*G,P+=r*J,A+=r*Q,U+=r*Y,y+=(r=t[13])*I,m+=r*q,v+=r*W,_+=r*D,E+=r*M,S+=r*K,O+=r*B,C+=r*$,x+=r*V,R+=r*H,k+=r*z,T+=r*F,P+=r*G,A+=r*J,U+=r*Q,N+=r*Y,m+=(r=t[14])*I,v+=r*q,_+=r*W,E+=r*D,S+=r*M,O+=r*K,C+=r*B,x+=r*$,R+=r*V,k+=r*H,T+=r*z,P+=r*F,A+=r*G,U+=r*J,N+=r*Q,L+=r*Y,v+=(r=t[15])*I,_+=r*q,E+=r*W,S+=r*D,O+=r*M,C+=r*K,x+=r*B,R+=r*$,k+=r*V,T+=r*H,P+=r*z,A+=r*F,U+=r*G,N+=r*J,L+=r*Q,j+=r*Y,o+=38*_,s+=38*E,a+=38*S,c+=38*O,l+=38*C,u+=38*x,h+=38*R,p+=38*k,d+=38*T,f+=38*P,b+=38*A,g+=38*U,w+=38*N,y+=38*L,m+=38*j,i=Math.floor((r=o+(i=1)+65535)/65536),o=r-65536*i,i=Math.floor((r=s+i+65535)/65536),s=r-65536*i,i=Math.floor((r=a+i+65535)/65536),a=r-65536*i,i=Math.floor((r=c+i+65535)/65536),c=r-65536*i,i=Math.floor((r=l+i+65535)/65536),l=r-65536*i,i=Math.floor((r=u+i+65535)/65536),u=r-65536*i,i=Math.floor((r=h+i+65535)/65536),h=r-65536*i,i=Math.floor((r=p+i+65535)/65536),p=r-65536*i,i=Math.floor((r=d+i+65535)/65536),d=r-65536*i,i=Math.floor((r=f+i+65535)/65536),f=r-65536*i,i=Math.floor((r=b+i+65535)/65536),b=r-65536*i,i=Math.floor((r=g+i+65535)/65536),g=r-65536*i,i=Math.floor((r=w+i+65535)/65536),w=r-65536*i,i=Math.floor((r=y+i+65535)/65536),y=r-65536*i,i=Math.floor((r=m+i+65535)/65536),m=r-65536*i,i=Math.floor((r=v+i+65535)/65536),v=r-65536*i,o+=i-1+37*(i-1),i=Math.floor((r=o+(i=1)+65535)/65536),o=r-65536*i,i=Math.floor((r=s+i+65535)/65536),s=r-65536*i,i=Math.floor((r=a+i+65535)/65536),a=r-65536*i,i=Math.floor((r=c+i+65535)/65536),c=r-65536*i,i=Math.floor((r=l+i+65535)/65536),l=r-65536*i,i=Math.floor((r=u+i+65535)/65536),u=r-65536*i,i=Math.floor((r=h+i+65535)/65536),h=r-65536*i,i=Math.floor((r=p+i+65535)/65536),p=r-65536*i,i=Math.floor((r=d+i+65535)/65536),d=r-65536*i,i=Math.floor((r=f+i+65535)/65536),f=r-65536*i,i=Math.floor((r=b+i+65535)/65536),b=r-65536*i,i=Math.floor((r=g+i+65535)/65536),g=r-65536*i,i=Math.floor((r=w+i+65535)/65536),w=r-65536*i,i=Math.floor((r=y+i+65535)/65536),y=r-65536*i,i=Math.floor((r=m+i+65535)/65536),m=r-65536*i,i=Math.floor((r=v+i+65535)/65536),v=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=l,e[5]=u,e[6]=h,e[7]=p,e[8]=d,e[9]=f,e[10]=b,e[11]=g,e[12]=w,e[13]=y,e[14]=m,e[15]=v}function K(e,t){M(e,t,t)}function B(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=253;n>=0;n--)K(i,i),2!==n&&4!==n&&M(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function $(e,t){var n,i=r();for(n=0;n<16;n++)i[n]=t[n];for(n=250;n>=0;n--)K(i,i),1!==n&&M(i,i,t);for(n=0;n<16;n++)e[n]=i[n]}function V(e,t,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=r(),u=r(),h=r(),p=r(),d=r(),f=r();for(o=0;o<31;o++)s[o]=t[o];for(s[31]=127&t[31]|64,s[0]&=248,q(a,n),o=0;o<16;o++)u[o]=a[o],p[o]=c[o]=h[o]=0;for(o=254,c[0]=p[0]=1;o>=0;--o)N(c,u,i=s[o>>>3]>>>(7&o)&1),N(h,p,i),W(d,c,h),D(c,c,h),W(h,u,p),D(u,u,p),K(p,d),K(f,c),M(c,h,c),M(h,u,d),W(d,c,h),D(c,c,h),K(u,c),D(h,p,f),M(c,h,l),W(c,c,p),M(h,h,c),M(c,p,f),M(p,u,a),K(u,d),N(c,u,i),N(h,p,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=h[o],a[o+48]=u[o],a[o+64]=p[o];var b=a.subarray(32),g=a.subarray(16);return B(b,b),M(g,g,b),L(e,g),0}function H(e,t){return V(e,t,s)}function z(e,t){return i(t,32),H(e,t)}function F(e,t,n){var r=new Uint8Array(32);return V(r,n,t),v(e,o,r,_)}x.prototype.blocks=function(e,t,n){for(var r,i,o,s,a,c,l,u,h,p,d,f,b,g,w,y,m,v,_,E=this.fin?0:2048,S=this.h[0],O=this.h[1],C=this.h[2],x=this.h[3],R=this.h[4],k=this.h[5],T=this.h[6],P=this.h[7],A=this.h[8],U=this.h[9],N=this.r[0],L=this.r[1],j=this.r[2],I=this.r[3],q=this.r[4],W=this.r[5],D=this.r[6],M=this.r[7],K=this.r[8],B=this.r[9];n>=16;)S+=8191&(r=255&e[t+0]|(255&e[t+1])<<8),O+=(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3)&8191,C+=(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6)&8191,x+=(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9)&8191,R+=(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12)&8191,k+=a>>>1&8191,T+=(a>>>14|(c=255&e[t+10]|(255&e[t+11])<<8)<<2)&8191,P+=(c>>>11|(l=255&e[t+12]|(255&e[t+13])<<8)<<5)&8191,A+=(l>>>8|(u=255&e[t+14]|(255&e[t+15])<<8)<<8)&8191,U+=u>>>5|E,h=(p=(h=0)+S*N+5*B*O+5*K*C+5*M*x+5*D*R)>>>13,p&=8191,p+=5*W*k+5*q*T+5*I*P+5*j*A+5*L*U,h+=p>>>13,p&=8191,h=(d=h+S*L+O*N+5*B*C+5*K*x+5*M*R)>>>13,d&=8191,d+=5*D*k+5*W*T+5*q*P+5*I*A+5*j*U,h+=d>>>13,d&=8191,h=(f=h+S*j+O*L+C*N+5*B*x+5*K*R)>>>13,f&=8191,f+=5*M*k+5*D*T+5*W*P+5*q*A+5*I*U,h+=f>>>13,f&=8191,h=(b=h+S*I+O*j+C*L+x*N+5*B*R)>>>13,b&=8191,b+=5*K*k+5*M*T+5*D*P+5*W*A+5*q*U,h+=b>>>13,b&=8191,h=(g=h+S*q+O*I+C*j+x*L+R*N)>>>13,g&=8191,g+=5*B*k+5*K*T+5*M*P+5*D*A+5*W*U,h+=g>>>13,g&=8191,h=(w=h+S*W+O*q+C*I+x*j+R*L)>>>13,w&=8191,w+=k*N+5*B*T+5*K*P+5*M*A+5*D*U,h+=w>>>13,w&=8191,h=(y=h+S*D+O*W+C*q+x*I+R*j)>>>13,y&=8191,y+=k*L+T*N+5*B*P+5*K*A+5*M*U,h+=y>>>13,y&=8191,h=(m=h+S*M+O*D+C*W+x*q+R*I)>>>13,m&=8191,m+=k*j+T*L+P*N+5*B*A+5*K*U,h+=m>>>13,m&=8191,h=(v=h+S*K+O*M+C*D+x*W+R*q)>>>13,v&=8191,v+=k*I+T*j+P*L+A*N+5*B*U,h+=v>>>13,v&=8191,h=(_=h+S*B+O*K+C*M+x*D+R*W)>>>13,_&=8191,_+=k*q+T*I+P*j+A*L+U*N,h+=_>>>13,_&=8191,p=8191&(h=(h=(h<<2)+h|0)+p|0),h>>>=13,d+=h,S=p,O=d,C=f,x=b,R=g,k=w,T=y,P=m,A=v,U=_,t+=16,n-=16;this.h[0]=S,this.h[1]=O,this.h[2]=C,this.h[3]=x,this.h[4]=R,this.h[5]=k,this.h[6]=T,this.h[7]=P,this.h[8]=A,this.h[9]=U},x.prototype.finish=function(e,t){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(o=0,r=~r;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(o=1,this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,i=this.h[0]+this.pad[0],this.h[0]=65535&i;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},x.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,n,r){for(var i,o,s,a,c,l,u,h,p,d,f,b,g,w,y,m,v,_,E,S,O,C,x,R,k,T,P=new Int32Array(16),A=new Int32Array(16),U=e[0],N=e[1],L=e[2],j=e[3],I=e[4],q=e[5],W=e[6],D=e[7],M=t[0],K=t[1],B=t[2],$=t[3],V=t[4],H=t[5],z=t[6],F=t[7],J=0;r>=128;){for(E=0;E<16;E++)S=8*E+J,P[E]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],A[E]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(E=0;E<80;E++)if(i=U,o=N,s=L,a=j,c=I,l=q,u=W,h=D,p=M,d=K,f=B,b=$,g=V,w=H,y=z,m=F,O=D,x=65535&(C=F),R=C>>>16,k=65535&O,T=O>>>16,O=(I>>>14|V<<18)^(I>>>18|V<<14)^(V>>>9|I<<23),x+=65535&(C=(V>>>14|I<<18)^(V>>>18|I<<14)^(I>>>9|V<<23)),R+=C>>>16,k+=65535&O,T+=O>>>16,O=I&q^~I&W,x+=65535&(C=V&H^~V&z),R+=C>>>16,k+=65535&O,T+=O>>>16,O=G[2*E],x+=65535&(C=G[2*E+1]),R+=C>>>16,k+=65535&O,T+=O>>>16,O=P[E%16],x+=65535&(C=A[E%16]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,v=65535&k|T<<16,_=65535&x|R<<16,O=v,x=65535&(C=_),R=C>>>16,k=65535&O,T=O>>>16,O=(U>>>28|M<<4)^(M>>>2|U<<30)^(M>>>7|U<<25),x+=65535&(C=(M>>>28|U<<4)^(U>>>2|M<<30)^(U>>>7|M<<25)),R+=C>>>16,k+=65535&O,T+=O>>>16,O=U&N^U&L^N&L,x+=65535&(C=M&K^M&B^K&B),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,h=65535&k|T<<16,m=65535&x|R<<16,O=a,x=65535&(C=b),R=C>>>16,k=65535&O,T=O>>>16,O=v,x+=65535&(C=_),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,a=65535&k|T<<16,b=65535&x|R<<16,N=i,L=o,j=s,I=a,q=c,W=l,D=u,U=h,K=p,B=d,$=f,V=b,H=g,z=w,F=y,M=m,E%16==15)for(S=0;S<16;S++)O=P[S],x=65535&(C=A[S]),R=C>>>16,k=65535&O,T=O>>>16,O=P[(S+9)%16],x+=65535&(C=A[(S+9)%16]),R+=C>>>16,k+=65535&O,T+=O>>>16,O=((v=P[(S+1)%16])>>>1|(_=A[(S+1)%16])<<31)^(v>>>8|_<<24)^v>>>7,x+=65535&(C=(_>>>1|v<<31)^(_>>>8|v<<24)^(_>>>7|v<<25)),R+=C>>>16,k+=65535&O,T+=O>>>16,O=((v=P[(S+14)%16])>>>19|(_=A[(S+14)%16])<<13)^(_>>>29|v<<3)^v>>>6,x+=65535&(C=(_>>>19|v<<13)^(v>>>29|_<<3)^(_>>>6|v<<26)),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,P[S]=65535&k|T<<16,A[S]=65535&x|R<<16;O=U,x=65535&(C=M),R=C>>>16,k=65535&O,T=O>>>16,O=e[0],x+=65535&(C=t[0]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[0]=U=65535&k|T<<16,t[0]=M=65535&x|R<<16,O=N,x=65535&(C=K),R=C>>>16,k=65535&O,T=O>>>16,O=e[1],x+=65535&(C=t[1]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[1]=N=65535&k|T<<16,t[1]=K=65535&x|R<<16,O=L,x=65535&(C=B),R=C>>>16,k=65535&O,T=O>>>16,O=e[2],x+=65535&(C=t[2]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[2]=L=65535&k|T<<16,t[2]=B=65535&x|R<<16,O=j,x=65535&(C=$),R=C>>>16,k=65535&O,T=O>>>16,O=e[3],x+=65535&(C=t[3]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[3]=j=65535&k|T<<16,t[3]=$=65535&x|R<<16,O=I,x=65535&(C=V),R=C>>>16,k=65535&O,T=O>>>16,O=e[4],x+=65535&(C=t[4]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[4]=I=65535&k|T<<16,t[4]=V=65535&x|R<<16,O=q,x=65535&(C=H),R=C>>>16,k=65535&O,T=O>>>16,O=e[5],x+=65535&(C=t[5]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[5]=q=65535&k|T<<16,t[5]=H=65535&x|R<<16,O=W,x=65535&(C=z),R=C>>>16,k=65535&O,T=O>>>16,O=e[6],x+=65535&(C=t[6]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[6]=W=65535&k|T<<16,t[6]=z=65535&x|R<<16,O=D,x=65535&(C=F),R=C>>>16,k=65535&O,T=O>>>16,O=e[7],x+=65535&(C=t[7]),R+=C>>>16,k+=65535&O,T+=O>>>16,R+=x>>>16,k+=R>>>16,T+=k>>>16,e[7]=D=65535&k|T<<16,t[7]=F=65535&x|R<<16,J+=128,r-=128}return r}function Q(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,J(i,o,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,b(s,n-8,a/536870912|0,a<<3),J(i,o,s,n),r=0;r<8;r++)b(e,8*r,i[r],o[r]);return 0}function Y(e,t){var n=r(),i=r(),o=r(),s=r(),a=r(),c=r(),l=r(),u=r(),p=r();D(n,e[1],e[0]),D(p,t[1],t[0]),M(n,n,p),W(i,e[0],e[1]),W(p,t[0],t[1]),M(i,i,p),M(o,e[3],t[3]),M(o,o,h),M(s,e[2],t[2]),W(s,s,s),D(a,i,n),D(c,s,o),W(l,s,o),W(u,i,n),M(e[0],a,c),M(e[1],u,l),M(e[2],l,c),M(e[3],a,u)}function Z(e,t,n){var r;for(r=0;r<4;r++)N(e[r],t[r],n)}function X(e,t){var n=r(),i=r(),o=r();B(o,t[2]),M(n,t[0],o),M(i,t[1],o),L(e,i),e[31]^=I(n)<<7}function ee(e,t,n){var r,i;for(A(e[0],a),A(e[1],c),A(e[2],c),A(e[3],a),i=255;i>=0;--i)Z(e,t,r=n[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),Z(e,t,r)}function et(e,t){var n=[r(),r(),r(),r()];A(n[0],p),A(n[1],d),A(n[2],c),M(n[3],p,d),ee(e,n,t)}function en(e,t,n){var o,s=new Uint8Array(64),a=[r(),r(),r(),r()];for(n||i(t,32),Q(s,t,32),s[0]&=248,s[31]&=127,s[31]|=64,et(a,s),X(e,a),o=0;o<32;o++)t[o+32]=e[o];return 0}var er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ei(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*er[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(i=0,n=0;i<32;i++)t[i]+=n-(t[31]>>4)*er[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*er[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function eo(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;ei(e,n)}function es(e,t,n,i){var o,s,a=new Uint8Array(64),c=new Uint8Array(64),l=new Uint8Array(64),u=new Float64Array(64),h=[r(),r(),r(),r()];for(Q(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64,o=0;o<n;o++)e[64+o]=t[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Q(l,e.subarray(32),n+32),eo(l),et(h,l),X(e,h),o=32;o<64;o++)e[o]=i[o];for(Q(c,e,n+64),eo(c),o=0;o<64;o++)u[o]=0;for(o=0;o<32;o++)u[o]=l[o];for(o=0;o<32;o++)for(s=0;s<32;s++)u[o+s]+=c[o]*a[s];return ei(e.subarray(32),u),n+64}function ea(e,t,n,i){var o,s,l,h,p,d,b,g,w=new Uint8Array(32),m=new Uint8Array(64),v=[r(),r(),r(),r()],_=[r(),r(),r(),r()];if(n<64||(o=r(),s=r(),l=r(),h=r(),p=r(),d=r(),b=r(),(A(_[2],c),q(_[1],i),K(l,_[1]),M(h,l,u),D(l,l,_[2]),W(h,_[2],h),K(p,h),K(d,p),M(b,d,p),M(o,b,l),M(o,o,h),$(o,o),M(o,o,l),M(o,o,h),M(o,o,h),M(_[0],o,h),K(s,_[0]),M(s,s,h),j(s,l)&&M(_[0],_[0],f),K(s,_[0]),M(s,s,h),j(s,l))?-1:(I(_[0])===i[31]>>7&&D(_[0],a,_[0]),M(_[3],_[0],_[1]),0)))return -1;for(g=0;g<n;g++)e[g]=t[g];for(g=0;g<32;g++)e[g+32]=i[g];if(Q(m,e,n),eo(m),ee(v,_,m),et(_,t.subarray(32)),Y(v,_),X(w,v),n-=64,y(t,0,w,0)){for(g=0;g<n;g++)e[g]=0;return -1}for(g=0;g<n;g++)e[g]=t[g+64];return n}function ec(e,t){if(32!==e.length)throw Error("bad key size");if(24!==t.length)throw Error("bad nonce size")}function el(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw TypeError("unexpected type, use Uint8Array")}function eu(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:v,crypto_stream_xor:C,crypto_stream:O,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:S,crypto_onetimeauth:R,crypto_onetimeauth_verify:k,crypto_verify_16:w,crypto_verify_32:y,crypto_secretbox:T,crypto_secretbox_open:P,crypto_scalarmult:V,crypto_scalarmult_base:H,crypto_box_beforenm:F,crypto_box_afternm:T,crypto_box:function(e,t,n,r,i,o){var s=new Uint8Array(32);return F(s,i,o),T(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,i,o){var s=new Uint8Array(32);return F(s,i,o),P(e,t,n,r,s)},crypto_box_keypair:z,crypto_hash:Q,crypto_sign:es,crypto_sign_keypair:en,crypto_sign_open:ea,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:r,D:u,L:er,pack25519:L,unpack25519:q,M:M,A:W,S:K,Z:D,pow2523:$,add:Y,set25519:A,modL:ei,scalarmult:ee,scalarbase:et},e.randomBytes=function(e){var t=new Uint8Array(e);return i(t,e),t},e.secretbox=function(e,t,n){el(e,t,n),ec(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return T(i,r,r.length,t,n),i.subarray(16)},e.secretbox.open=function(e,t,n){el(e,t,n),ec(n,t);for(var r=new Uint8Array(16+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+16]=e[o];return r.length<32||0!==P(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=16,e.scalarMult=function(e,t){if(el(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var n=new Uint8Array(32);return V(n,e,t),n},e.scalarMult.base=function(e){if(el(e),32!==e.length)throw Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){el(e,t),function(e,t){if(32!==e.length)throw Error("bad public key size");if(32!==t.length)throw Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return F(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(el(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(el(e,t),64!==t.length)throw Error("bad secret key size");var n=new Uint8Array(64+e.length);return es(n,e,e.length,t),n},e.sign.open=function(e,t){if(el(e,t),32!==t.length)throw Error("bad public key size");var n=new Uint8Array(e.length),r=ea(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(el(e,t,n),64!==t.length)throw Error("bad signature size");if(32!==n.length)throw Error("bad public key size");var r,i=new Uint8Array(64+e.length),o=new Uint8Array(64+e.length);for(r=0;r<64;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+64]=e[r];return ea(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return en(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(el(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(el(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=e[r];return en(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=32,e.sign.secretKeyLength=64,e.sign.seedLength=32,e.sign.signatureLength=64,e.hash=function(e){el(e);var t=new Uint8Array(64);return Q(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return el(e,t),0!==e.length&&0!==t.length&&e.length===t.length&&0===g(e,0,t,0,e.length)},e.setPRNG=function(e){i=e},(t="undefined"!=typeof self?self.crypto||self.msCrypto:null)&&t.getRandomValues?e.setPRNG(function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];eu(i)}):(t=n(5024))&&t.randomBytes&&e.setPRNG(function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];eu(i)})}(e.exports?e.exports:self.nacl=self.nacl||{})},6088:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",c="object",l="string",u="major",h="model",p="name",d="type",f="vendor",b="version",g="architecture",w="console",y="mobile",m="tablet",v="smarttv",_="wearable",E="embedded",S="Amazon",O="Apple",C="ASUS",x="BlackBerry",R="Browser",k="Chrome",T="Firefox",P="Google",A="Huawei",U="Microsoft",N="Motorola",L="Opera",j="Samsung",I="Sharp",q="Sony",W="Xiaomi",D="Zebra",M="Facebook",K="Chromium OS",B="Mac OS",$=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===l&&-1!==z(t).indexOf(z(e))},z=function(e){return e.toLowerCase()},F=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var n,r,i,a,l,u,h=0;h<t.length&&!l;){var p=t[h],d=t[h+1];for(n=r=0;n<p.length&&!l&&p[n];)if(l=p[n++].exec(e))for(i=0;i<d.length;i++)u=l[++r],typeof(a=d[i])===c&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):void 0):this[a]=u||o;h+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(H(t[n][r],e))return"?"===n?o:n}else if(H(t[n],e))return"?"===n?o:n;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[b,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[b,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,b],[/opios[\/ ]+([\w\.]+)/i],[b,[p,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[b,[p,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,b],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[b,[p,"UC"+R]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[b,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[b,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[b,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[b,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[b,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+R],b],[/\bfocus\/([\w\.]+)/i],[b,[p,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[b,[p,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[b,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[b,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[b,[p,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[b,[p,"MIUI "+R]],[/fxios\/([-\w\.]+)/i],[b,[p,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+R]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+R],b],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],b],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,b],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,M],b],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,b],[/\bgsa\/([\w\.]+) .*safari\//i],[b,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[b,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[b,[p,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,k+" WebView"],b],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[b,[p,"Android "+R]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,b],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[b,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[b,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[b,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,b],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],b],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[b,[p,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,b],[/(cobalt)\/([\w\.]+)/i],[p,[b,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,z]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",z]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[f,j],[d,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[f,j],[d,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[f,O],[d,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[f,O],[d,m]],[/(macintosh);/i],[h,[f,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[f,I],[d,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[f,A],[d,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[f,A],[d,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[f,W],[d,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[f,W],[d,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[f,"OPPO"],[d,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[f,"Vivo"],[d,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[f,"Realme"],[d,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[f,N],[d,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[f,N],[d,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[f,"LG"],[d,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[f,"LG"],[d,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[f,"Lenovo"],[d,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[f,"Nokia"],[d,y]],[/(pixel c)\b/i],[h,[f,P],[d,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[f,P],[d,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[f,q],[d,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[f,q],[d,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[f,"OnePlus"],[d,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[f,S],[d,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[f,S],[d,y]],[/(playbook);[-\w\),; ]+(rim)/i],[h,f,[d,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[f,x],[d,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[f,C],[d,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[f,C],[d,y]],[/(nexus 9)/i],[h,[f,"HTC"],[d,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[h,/_/g," "],[d,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[f,"Acer"],[d,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[f,"Meizu"],[d,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,h,[d,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,h,[d,m]],[/(surface duo)/i],[h,[f,U],[d,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[f,"Fairphone"],[d,y]],[/(u304aa)/i],[h,[f,"AT&T"],[d,y]],[/\bsie-(\w*)/i],[h,[f,"Siemens"],[d,y]],[/\b(rct\w+) b/i],[h,[f,"RCA"],[d,m]],[/\b(venue[\d ]{2,7}) b/i],[h,[f,"Dell"],[d,m]],[/\b(q(?:mv|ta)\w+) b/i],[h,[f,"Verizon"],[d,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[f,"Barnes & Noble"],[d,m]],[/\b(tm\d{3}\w+) b/i],[h,[f,"NuVision"],[d,m]],[/\b(k88) b/i],[h,[f,"ZTE"],[d,m]],[/\b(nx\d{3}j) b/i],[h,[f,"ZTE"],[d,y]],[/\b(gen\d{3}) b.+49h/i],[h,[f,"Swiss"],[d,y]],[/\b(zur\d{3}) b/i],[h,[f,"Swiss"],[d,m]],[/\b((zeki)?tb.*\b) b/i],[h,[f,"Zeki"],[d,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],h,[d,m]],[/\b(ns-?\w{0,9}) b/i],[h,[f,"Insignia"],[d,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[f,"NextBook"],[d,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],h,[d,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],h,[d,y]],[/\b(ph-1) /i],[h,[f,"Essential"],[d,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[f,"Envizen"],[d,m]],[/\b(trio[-\w\. ]+) b/i],[h,[f,"MachSpeed"],[d,m]],[/\btu_(1491) b/i],[h,[f,"Rotor"],[d,m]],[/(shield[\w ]+) b/i],[h,[f,"Nvidia"],[d,m]],[/(sprint) (\w+)/i],[f,h,[d,y]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[f,U],[d,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[f,D],[d,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[f,D],[d,y]],[/smart-tv.+(samsung)/i],[f,[d,v]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[f,j],[d,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[d,v]],[/(apple) ?tv/i],[f,[h,O+" TV"],[d,v]],[/crkey/i],[[h,k+"cast"],[f,P],[d,v]],[/droid.+aft(\w+)( bui|\))/i],[h,[f,S],[d,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[f,I],[d,v]],[/(bravia[\w ]+)( bui|\))/i],[h,[f,q],[d,v]],[/(mitv-\w{5}) bui/i],[h,[f,W],[d,v]],[/Hbbtv.*(technisat) (.*);/i],[f,h,[d,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,F],[h,F],[d,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,h,[d,w]],[/droid.+; (shield) bui/i],[h,[f,"Nvidia"],[d,w]],[/(playstation [345portablevi]+)/i],[h,[f,q],[d,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[f,U],[d,w]],[/((pebble))app/i],[f,h,[d,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[f,O],[d,_]],[/droid.+; (glass) \d/i],[h,[f,P],[d,_]],[/droid.+; (wt63?0{2,3})\)/i],[h,[f,D],[d,_]],[/(quest( 2| pro)?)/i],[h,[f,M],[d,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[d,E]],[/(aeobc)\b/i],[h,[f,S],[d,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[d,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[d,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,y]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[b,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[b,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,b],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[b,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,b],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[b,J,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[b,J,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[b,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,B],[b,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[b,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,b],[/\(bb(10);/i],[b,[p,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[b,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[b,[p,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[b,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[b,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[b,[p,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,K],b],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,b],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],b],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,b]]},Z=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),w=n&&n.userAgentData?n.userAgentData:o,v=t?$(Y,t):Y,_=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[p]=o,t[b]=o,G.call(t,r,v.browser),t[u]=typeof(e=t[b])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,G.call(e,r,v.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[h]=o,e[d]=o,G.call(e,r,v.device),_&&!e[d]&&w&&w.mobile&&(e[d]=y),_&&"Macintosh"==e[h]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[h]="iPad",e[d]=m),e},this.getEngine=function(){var e={};return e[p]=o,e[b]=o,G.call(e,r,v.engine),e},this.getOS=function(){var e={};return e[p]=o,e[b]=o,G.call(e,r,v.os),_&&!e[p]&&w&&"Unknown"!=w.platform&&(e[p]=w.platform.replace(/chrome os/i,K).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===l&&e.length>350?F(e,350):e,this},this.setUA(r),this};Z.VERSION="1.0.36",Z.BROWSER=V([p,b,u]),Z.CPU=V([g]),Z.DEVICE=V([h,f,d,w,y,v,m,_,E]),Z.ENGINE=Z.OS=V([p,b]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?o!==(r=(function(){return Z}).call(t,n,t,e))&&(e.exports=r):typeof i!==a&&(i.UAParser=Z);var X=typeof i!==a&&(i.jQuery||i.Zepto);if(X&&!X.ua){var ee=new Z;X.ua=ee.getResult(),X.ua.get=function(){return ee.getUA()},X.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)X.ua[n]=t[n]}}}("object"==typeof window?window:this)},8781:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(1811),i=n(5025);class o extends r.l{constructor(){super(),this.setup=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.focused=e,e&&this.onFocus()}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}let s=new o},6176:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(5025);let i=function(){let e=[],t=0,n=e=>{e()},i=e=>{e()},o=i=>{t?e.push(i):(0,r.A4)(()=>{n(i)})},s=()=>{let t=e;e=[],t.length&&(0,r.A4)(()=>{i(()=>{t.forEach(e=>{n(e)})})})};return{batch:e=>{let n;t++;try{n=e()}finally{--t||s()}return n},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{i=e}}}()},6906:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(1811),i=n(5025);class o extends r.l{constructor(){super(),this.setup=e=>{if(!i.sk&&window.addEventListener){let t=()=>e();return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=this.cleanup)||e.call(this),this.cleanup=void 0}}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e(e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()})}setOnline(e){this.online=e,e&&this.onOnline()}onOnline(){this.listeners.forEach(e=>{e()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}}let s=new o},4786:function(e,t,n){"use strict";n.d(t,{DV:function(){return l},Kw:function(){return a},Mz:function(){return u}});var r=n(8781),i=n(6906),o=n(5025);function s(e){return Math.min(1e3*2**e,3e4)}function a(e){return(null!=e?e:"online")!=="online"||i.N.isOnline()}class c{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function l(e){return e instanceof c}function u(e){let t,n,l,u=!1,h=0,p=!1,d=new Promise((e,t)=>{n=e,l=t}),f=()=>!r.j.isFocused()||"always"!==e.networkMode&&!i.N.isOnline(),b=r=>{p||(p=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},g=n=>{p||(p=!0,null==e.onError||e.onError(n),null==t||t(),l(n))},w=()=>new Promise(n=>{t=e=>{if(p||!f())return n(e)},null==e.onPause||e.onPause()}).then(()=>{t=void 0,p||null==e.onContinue||e.onContinue()}),y=()=>{let t;if(!p){try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(b).catch(t=>{var n,r;if(p)return;let i=null!=(n=e.retry)?n:3,a=null!=(r=e.retryDelay)?r:s,c="function"==typeof a?a(h,t):a,l=!0===i||"number"==typeof i&&h<i||"function"==typeof i&&i(h,t);if(u||!l){g(t);return}h++,null==e.onFail||e.onFail(h,t),(0,o.Gh)(c).then(()=>{if(f())return w()}).then(()=>{u?g(t):y()})})}};return a(e.networkMode)?y():w().then(y),{promise:d,cancel:t=>{p||(g(new c(t)),null==e.abort||e.abort())},continue:()=>{null==t||t()},cancelRetry:()=>{u=!0},continueRetry:()=>{u=!1}}}},1811:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});class r{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(t=>t!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}},5025:function(e,t,n){"use strict";n.d(t,{A4:function(){return E},G9:function(){return S},Gh:function(){return _},I6:function(){return l},Kp:function(){return a},PN:function(){return s},Rm:function(){return p},SE:function(){return o},VS:function(){return g},X7:function(){return h},ZT:function(){return i},_v:function(){return c},_x:function(){return u},oE:function(){return O},sk:function(){return r},to:function(){return f},yF:function(){return d}});let r="undefined"==typeof window||"Deno"in window;function i(){}function o(e,t){return"function"==typeof e?e(t):e}function s(e){return"number"==typeof e&&e>=0&&e!==1/0}function a(e,t){return Math.max(e+(t||0)-Date.now(),0)}function c(e,t,n){return v(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function l(e,t,n){return v(e)?[{...t,queryKey:e},n]:[e||{},t]}function u(e,t){let{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(v(s)){if(r){if(t.queryHash!==p(s,t.options))return!1}else{if(!b(t.queryKey,s))return!1}}if("all"!==n){let e=t.isActive();if("active"===n&&!e||"inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&(void 0===i||i===t.state.fetchStatus)&&(!o||!!o(t))}function h(e,t){let{exact:n,fetching:r,predicate:i,mutationKey:o}=e;if(v(o)){if(!t.options.mutationKey)return!1;if(n){if(d(t.options.mutationKey)!==d(o))return!1}else{if(!b(t.options.mutationKey,o))return!1}}return("boolean"!=typeof r||"loading"===t.state.status===r)&&(!i||!!i(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||d)(e)}function d(e){return JSON.stringify(e,(e,t)=>y(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function f(e,t){return b(e,t)}function b(e,t){return e===t||typeof e==typeof t&&!!e&&!!t&&"object"==typeof e&&"object"==typeof t&&!Object.keys(t).some(n=>!b(e[n],t[n]))}function g(e,t){if(e&&!t||t&&!e)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}function w(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function y(e){if(!m(e))return!1;let t=e.constructor;if(void 0===t)return!0;let n=t.prototype;return!!(m(n)&&n.hasOwnProperty("isPrototypeOf"))}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e){return Array.isArray(e)}function _(e){return new Promise(t=>{setTimeout(t,e)})}function E(e){_(0).then(e)}function S(){if("function"==typeof AbortController)return new AbortController}function O(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?function e(t,n){if(t===n)return t;let r=w(t)&&w(n);if(r||y(t)&&y(n)){let i=r?t.length:Object.keys(t).length,o=r?n:Object.keys(n),s=o.length,a=r?[]:{},c=0;for(let i=0;i<s;i++){let s=r?i:o[i];a[s]=e(t[s],n[s]),a[s]===t[s]&&c++}return i===s&&c===i?t:a}return n}(e,t):t}},7079:function(e,t,n){"use strict";n.d(t,{NL:function(){return a},aH:function(){return c}});var r=n(2265);let i=r.createContext(void 0),o=r.createContext(!1);function s(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=i),window.ReactQueryClientContext):i)}let a=({context:e}={})=>{let t=r.useContext(s(e,r.useContext(o)));if(!t)throw Error("No QueryClient set, use QueryClientProvider to set one");return t},c=({client:e,children:t,context:n,contextSharing:i=!1})=>{r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);let a=s(n,i);return r.createElement(o.Provider,{value:!n&&i},r.createElement(a.Provider,{value:e},t))}},8320:function(e,t,n){"use strict";n.d(t,{UQ:function(){return e0},u3:function(){return eL},Kx:function(){return eD},I9:function(){return e$},z8:function(){return ez}});var r=n(2265),i=Object.defineProperty,o=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t,n)=>(o(e,"symbol"!=typeof t?t+"":t,n),n);class a{constructor(e,t){this.prefix=e,this.enabled=t}print(e,...t){if(!this.enabled)return;let n=new Date,r=Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(n);console[e](`[${r}]`,this.prefix,...t)}disable(){this.enabled=!1}error(...e){this.print("error",...e)}enable(){this.enabled=!0}log(...e){this.print("log",...e)}warn(...e){this.print("warn",...e)}}let c=new a("[SDK]",!1);function l(){try{return window.self!==window.top}catch{return!0}}function u(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function h(e,t,n){var r,i;let o={},s;void 0===t&&void 0===n?o={}:void 0!==t&&void 0!==n?(o=n,s=t):void 0!==t&&("targetOrigin"in t?o=t:s=t);let{targetOrigin:a="https://web.telegram.org"}=o;if(c.log(`Calling method "${e}"`,s),l()){window.parent.postMessage(JSON.stringify({eventType:e,eventData:s}),a);return}if("external"in(r=window)&&u(r.external)&&"notify"in r.external&&"function"==typeof r.external.notify){window.external.notify(JSON.stringify({eventType:e,eventData:s}));return}if("TelegramWebviewProxy"in(i=window)&&u(i.TelegramWebviewProxy)&&"postEvent"in i.TelegramWebviewProxy&&"function"==typeof i.TelegramWebviewProxy.postEvent){window.TelegramWebviewProxy.postEvent(e,JSON.stringify(s));return}throw Error("Unable to determine current environment and possible way to send event.")}function p(e,t){return 0>=function(e,t){let n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length);for(let e=0;e<i;e+=1){let t=parseInt(n[e]||"0",10),i=parseInt(r[e]||"0",10);if(t!==i)return t>i?1:-1}return 0}(e,t)}function d(e,t,n){if("string"==typeof n){if("web_app_open_link"===e&&"try_instant_view"===t)return p("6.4",n);if("web_app_set_header_color"===e&&"color"===t)return p("6.9",n)}switch(e){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return p("6.1",t);case"web_app_open_popup":return p("6.2",t);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return p("6.4",t);case"web_app_switch_inline_query":return p("6.7",t);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return p("6.9",t);case"web_app_setup_settings_button":return p("6.10",t);default:return!0}}class f extends Error{constructor(e,t){super(`Method "${e}" is unsupported in the Mini Apps version ${t}.`),Object.setPrototypeOf(this,f.prototype)}}class b extends Error{constructor(e,t,n){super(`Parameter "${t}" in method "${e}" is unsupported in the Mini Apps version ${n}.`),Object.setPrototypeOf(this,b.prototype)}}function g(e){return({req_id:t})=>t===e}class w extends Error{constructor(e,{cause:t,type:n}={}){super(`Unable to parse value${n?` as ${n}`:""}`,{cause:t}),s(this,"type"),this.value=e,Object.setPrototypeOf(this,w.prototype),this.type=n}}class y extends Error{constructor(e,{cause:t,type:n}={}){super(`Unable to parse field "${e}"${n?` as ${n}`:""}`,{cause:t}),Object.setPrototypeOf(this,y.prototype)}}function m(e,t){let n={};for(let r in e){let i,o,s;let a=e[r];if(!a)continue;if("function"==typeof a||"parse"in a)i=r,o="function"==typeof a?a:a.parse.bind(a);else{let{type:e}=a;i=a.from||r,o="function"==typeof e?e:e.parse.bind(e)}let c=t(i);try{s=o(c)}catch(e){throw e instanceof w?new y(i,{type:e.type,cause:e}):new y(i,{cause:e})}void 0!==s&&(n[r]=s)}return n}function v(){return TypeError("Value has unexpected type")}function _(e){let t=e;if("string"==typeof t&&(t=JSON.parse(t)),"object"!=typeof t||null===t||Array.isArray(t))throw v();return t}class E{constructor(e,t,n){this.parser=e,this.isOptional=t,this.type=n}parse(e){if(!(this.isOptional&&void 0===e))try{return this.parser(e)}catch(t){throw new w(e,{type:this.type,cause:t})}}optional(){return this.isOptional=!0,this}}function S(e,t){return new E(t=>{let n=_(t);return m(e,e=>n[e])},!1,t)}function O(e,t){return()=>new E(e,!1,t)}let C=O(e=>{if("string"==typeof e||"number"==typeof e)return e.toString();throw v()},"string");function x(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function R(e){return/^#[\da-f]{6}$/i.test(e)}function k(e){let t=e.replace(/\s/g,"").toLowerCase();if(R(t))return t;if(/^#[\da-f]{3}$/i.test(t)){let e="#";for(let n=0;n<3;n+=1)e+=t[1+n].repeat(2);return e}let n=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),\d{1,3}\)$/);if(null===n)throw Error(`Value "${e}" does not satisfy any of known RGB formats.`);return n.slice(1).reduce((e,t)=>{let n=parseInt(t,10).toString(16);return e+(1===n.length?"0":"")+n},"#")}let T=O(e=>k(C().parse(e)),"rgb"),P=O(e=>{if("boolean"==typeof e)return e;let t=String(e);if("1"===t||"true"===t)return!0;if("0"===t||"false"===t)return!1;throw v()},"boolean"),A=O(e=>{if("number"==typeof e)return e;if("string"==typeof e){let t=Number(e);if(!Number.isNaN(t))return t}throw v()},"number");class U{constructor(){s(this,"listeners",new Map),s(this,"subscribeListeners",[])}addListener(e,t,n){let r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),r.push([t,n]),()=>this.off(e,t)}emit(e,...t){this.subscribeListeners.forEach(n=>n(e,...t));let n=this.listeners.get(e);n&&n.forEach(([e,r],i)=>{e(...t),r&&n.splice(i,1)})}on(e,t){return this.addListener(e,t,!1)}once(e,t){return this.addListener(e,t,!0)}off(e,t){let n=this.listeners.get(e);if(n){for(let e=0;e<n.length;e+=1)if(t===n[e][0]){n.splice(e,1);return}}}subscribe(e){return this.subscribeListeners.push(e),()=>this.unsubscribe(e)}unsubscribe(e){for(let t=0;t<this.subscribeListeners.length;t+=1)if(this.subscribeListeners[t]===e){this.subscribeListeners.splice(t,1);return}}}let N="telegram-mini-apps-cached-emitter";function L(){let e=window;return void 0===e[N]&&(e[N]=function(){var e;let t=new U,n=(e,...n)=>{c.log("Emitting processed event:",e,...n),t.emit(e,...n)};return window.addEventListener("resize",()=>{n("viewport_changed",{width:window.innerWidth,height:window.innerHeight,is_state_stable:!0,is_expanded:!0})}),e=(e,t)=>{c.log("Received raw event:",e,t);try{switch(e){case"viewport_changed":return n(e,S({height:A(),width:e=>null==e?window.innerWidth:A().parse(e),is_state_stable:P(),is_expanded:P()}).parse(t));case"theme_changed":return n(e,S({theme_params:e=>{let t=T().optional();return Object.entries(_(e)).reduce((e,[n,r])=>(e[n]=t.parse(r),e),{})}}).parse(t));case"popup_closed":return null==t?n(e,{}):n(e,S({button_id:e=>null==e?void 0:C().parse(e)}).parse(t));case"set_custom_style":return n(e,C().parse(t));case"qr_text_received":return n(e,S({data:C().optional()}).parse(t));case"clipboard_text_received":return n(e,S({req_id:C(),data:e=>null===e?e:C().optional().parse(e)}).parse(t));case"invoice_closed":return n(e,S({slug:C(),status:C()}).parse(t));case"phone_requested":return n("phone_requested",S({status:C()}).parse(t));case"custom_method_invoked":return n("custom_method_invoked",S({req_id:C(),result:e=>e,error:C().optional()}).parse(t));case"write_access_requested":return n("write_access_requested",S({status:C()}).parse(t));case"main_button_pressed":case"back_button_pressed":case"settings_button_pressed":case"scan_qr_popup_closed":case"reload_iframe":return n(e);default:return n(e,t)}}catch(e){c.error("Error processing event:",e)}},function(){let e=window;"TelegramGameProxy_receiveEvent"in e||[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(t=>{let n=e;t.forEach((e,t,r)=>{if(t===r.length-1){n[e]=x;return}e in n||(n[e]={}),n=n[e]})})}(),window.addEventListener("message",t=>{if(t.source===window.parent)try{var n;let{eventType:r,eventData:i}=(n=t.data,S({eventType:C(),eventData:e=>e}).parse(n));e(r,i)}catch{}}),t}()),e[N]}function j(e,t){L().off(e,t)}function I(e,t){return L().on(e,t),()=>j(e,t)}class q extends Error{constructor(e){super(`Async call timeout exceeded. Timeout: ${e}`),Object.setPrototypeOf(this,q.prototype)}}function W(e,t){return Promise.race(["function"==typeof e?e():e,new Promise((e,n)=>{setTimeout(n,t,new q(t))})])}async function D(e,t,n){let r;let i=new Promise(e=>{r=e}),o=t?{...n,event:t,method:e}:e,{method:s,event:a,capture:c,postEvent:l=h,timeout:u}=o,p=(Array.isArray(a)?a:[a]).map(e=>I(e,e=>(!c||c(e))&&r(e)));try{return l(s,o.params),await (u?W(i,u):i)}finally{p.forEach(e=>e())}}async function M(e,t,n,r={}){let{result:i,error:o}=await D("web_app_invoke_custom_method","custom_method_invoked",{...r,params:{method:e,params:t,req_id:n},capture:g(n)});if(o)throw Error(o);return i}function K(e){let t=k(e);return 120>Math.sqrt([.299,.587,.114].reduce((e,n,r)=>{let i=parseInt(t.slice(1+2*r,1+(r+1)*2),16);return e+i*i*n},0))}class B{constructor(e,t){this.state=e,this.ee=t}internalSet(e,t){return this.state[e]!==t&&void 0!==t&&(this.state[e]=t,this.ee.emit(`change:${e}`,t),!0)}clone(){return{...this.state}}set(e,t){let n=!1;if("string"==typeof e)n=this.internalSet(e,t);else for(let t in e)this.internalSet(t,e[t])&&(n=!0);n&&this.ee.emit("change")}get(e){return this.state[e]}}function $(e,t){return n=>d(t[n],e)}class V{constructor(e,t,n=h){s(this,"ee",new U),s(this,"state"),s(this,"on",(e,t)=>"click"===e?I("back_button_pressed",t):this.ee.on(e,t)),s(this,"off",(e,t)=>"click"===e?j("back_button_pressed",t):this.ee.off(e,t)),s(this,"supports"),this.postEvent=n,this.state=new B({isVisible:e},this.ee),this.supports=$(t,{show:"web_app_setup_back_button",hide:"web_app_setup_back_button"})}set isVisible(e){this.state.set("isVisible",e),this.postEvent("web_app_setup_back_button",{is_visible:e})}get isVisible(){return this.state.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}class H{constructor(e,t=h){s(this,"ee",new U),s(this,"state"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),this.postEvent=t,this.state=new B({isConfirmationNeeded:e},this.ee)}set isConfirmationNeeded(e){this.state.set("isConfirmationNeeded",e),this.postEvent("web_app_setup_closing_behavior",{need_confirmation:e})}get isConfirmationNeeded(){return this.state.get("isConfirmationNeeded")}disableConfirmation(){this.isConfirmationNeeded=!1}enableConfirmation(){this.isConfirmationNeeded=!0}}function z(e){if(Array.isArray(e))return e;if("string"==typeof e)try{let t=JSON.parse(e);if(Array.isArray(t))return t}catch{}throw v()}class F extends E{constructor(e,t,n){super(z,t,n),s(this,"itemParser"),this.itemParser="function"==typeof e?e:e.parse.bind(e)}parse(e){let t=super.parse(e);return void 0===t?t:t.map(this.itemParser)}of(e){return this.itemParser="function"==typeof e?e:e.parse.bind(e),this}}function G(e,t){return e.reduce((e,n)=>(e[n]=t,e),{})}class J{constructor(e,t,n=h){s(this,"supports"),this.createRequestId=t,this.postEvent=n,this.supports=$(e,{delete:"web_app_invoke_custom_method",get:"web_app_invoke_custom_method",getKeys:"web_app_invoke_custom_method",set:"web_app_invoke_custom_method"})}async delete(e,t={}){let n=Array.isArray(e)?e:[e];0!==n.length&&await M("deleteStorageValues",{keys:n},this.createRequestId(),{...t,postEvent:this.postEvent})}async getKeys(e={}){let t=await M("getStorageKeys",{},this.createRequestId(),{...e,postEvent:this.postEvent});return new F(e=>e,!1,void 0).of(C()).parse(t)}async get(e,t={}){let n=Array.isArray(e)?e:[e];if(0===n.length)return G(n,"");let r=S(G(n,C())),i=await M("getStorageValues",{keys:n},this.createRequestId(),{...t,postEvent:this.postEvent}).then(e=>r.parse(e));return Array.isArray(e)?i:i[e]}async set(e,t,n={}){await M("saveStorageValue",{key:e,value:t},this.createRequestId(),{...n,postEvent:this.postEvent})}}class Q{constructor(e,t=h){s(this,"supports"),this.postEvent=t,this.supports=$(e,{impactOccurred:"web_app_trigger_haptic_feedback",notificationOccurred:"web_app_trigger_haptic_feedback",selectionChanged:"web_app_trigger_haptic_feedback"})}impactOccurred(e){this.postEvent("web_app_trigger_haptic_feedback",{type:"impact",impact_style:e})}notificationOccurred(e){this.postEvent("web_app_trigger_haptic_feedback",{type:"notification",notification_type:e})}selectionChanged(){this.postEvent("web_app_trigger_haptic_feedback",{type:"selection_change"})}}class Y{constructor(e){this.initData=e}get authDate(){return this.initData.authDate}get canSendAfter(){return this.initData.canSendAfter}get canSendAfterDate(){let{canSendAfter:e}=this;return void 0===e?void 0:new Date(this.authDate.getTime()+1e3*e)}get chat(){return this.initData.chat}get chatType(){return this.initData.chatType}get chatInstance(){return this.initData.chatInstance}get hash(){return this.initData.hash}get queryId(){return this.initData.queryId}get receiver(){return this.initData.receiver}get startParam(){return this.initData.startParam}get user(){return this.initData.user}}function Z(){return S({addedToAttachmentMenu:{type:P().optional(),from:"added_to_attachment_menu"},allowsWriteToPm:{type:P().optional(),from:"allows_write_to_pm"},firstName:{type:C(),from:"first_name"},id:A(),isBot:{type:P().optional(),from:"is_bot"},isPremium:{type:P().optional(),from:"is_premium"},languageCode:{type:C().optional(),from:"language_code"},lastName:{type:C().optional(),from:"last_name"},photoUrl:{type:C().optional(),from:"photo_url"},username:C().optional()},"User")}let X=O(e=>e instanceof Date?e:new Date(1e3*A().parse(e)),"Date");function ee(e,t){return new E(t=>{if("string"!=typeof t&&!(t instanceof URLSearchParams))throw v();let n="string"==typeof t?new URLSearchParams(t):t;return m(e,e=>{let t=n.get(e);return null===t?void 0:t})},!1,t)}class et{constructor(e,t=h){s(this,"ee",new U),s(this,"state"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),s(this,"supports"),this.postEvent=t,this.state=new B({isOpened:!1},this.ee),this.supports=$(e,{open:"web_app_open_invoice"})}set isOpened(e){this.state.set("isOpened",e)}get isOpened(){return this.state.get("isOpened")}async open(e,t){if(this.isOpened)throw Error("Invoice is already opened");let n=t?function(e){let{hostname:t,pathname:n}=new URL(e,window.location.href);if("t.me"!==t)throw Error(`Incorrect hostname: ${t}`);let r=n.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(null===r)throw Error('Link pathname has incorrect format. Expected to receive "/invoice/{slug}" or "/${slug}"');return r[2]}(e):e;this.isOpened=!0;try{return(await D("web_app_open_invoice","invoice_closed",{params:{slug:n},postEvent:this.postEvent,capture:e=>n===e.slug})).status}finally{this.isOpened=!1}}}class en{constructor(e){s(this,"ee",new U),s(this,"state"),s(this,"postEvent"),s(this,"on",(e,t)=>"click"===e?I("main_button_pressed",t):this.ee.on(e,t)),s(this,"off",(e,t)=>"click"===e?j("main_button_pressed",t):this.ee.off(e,t));let{postEvent:t=h,text:n,textColor:r,backgroundColor:i,isEnabled:o,isVisible:a,isLoaderVisible:c}=e;this.postEvent=t,this.state=new B({backgroundColor:i,isEnabled:o,isVisible:a,isLoaderVisible:c,text:n,textColor:r},this.ee)}commit(){""!==this.text&&this.postEvent("web_app_setup_main_button",{is_visible:this.isVisible,is_active:this.isEnabled,is_progress_visible:this.isLoaderVisible,text:this.text,color:this.backgroundColor,text_color:this.textColor})}set isEnabled(e){this.setParams({isEnabled:e})}get isEnabled(){return this.state.get("isEnabled")}set isLoaderVisible(e){this.setParams({isLoaderVisible:e})}get isLoaderVisible(){return this.state.get("isLoaderVisible")}set isVisible(e){this.setParams({isVisible:e})}get isVisible(){return this.state.get("isVisible")}get backgroundColor(){return this.state.get("backgroundColor")}get text(){return this.state.get("text")}get textColor(){return this.state.get("textColor")}disable(){return this.isEnabled=!1,this}enable(){return this.isEnabled=!0,this}hide(){return this.isVisible=!1,this}hideLoader(){return this.isLoaderVisible=!1,this}show(){return this.isVisible=!0,this}showLoader(){return this.isLoaderVisible=!0,this}setText(e){return this.setParams({text:e})}setTextColor(e){return this.setParams({textColor:e})}setBackgroundColor(e){return this.setParams({backgroundColor:e})}setParams(e){return this.state.set(e),this.commit(),this}}let er=ee({contact:S({userId:{type:A(),from:"user_id"},phoneNumber:{type:C(),from:"phone_number"},firstName:{type:C(),from:"first_name"},lastName:{type:C().optional(),from:"last_name"}}),authDate:{type:X(),from:"auth_date"},hash:C()});function ei(e,t){return n=>{let[r,i]=t[n];return d(r,i,e)}}class eo{constructor(e){s(this,"ee",new U),s(this,"state"),s(this,"botInline"),s(this,"postEvent"),s(this,"createRequestId"),s(this,"requestingPhoneAccess",!1),s(this,"requestingWriteAccess",!1),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),s(this,"supports"),s(this,"supportsParam");let{postEvent:t=h,headerColor:n,backgroundColor:r,version:i,botInline:o,createRequestId:a}=e,c=$(i,{requestPhoneAccess:"web_app_request_phone",requestWriteAccess:"web_app_request_write_access",switchInlineQuery:"web_app_switch_inline_query",setHeaderColor:"web_app_set_header_color",setBackgroundColor:"web_app_set_background_color"});this.postEvent=t,this.botInline=o,this.createRequestId=a,this.supports=e=>!(!c(e)||"switchInlineQuery"===e&&!o),this.state=new B({backgroundColor:r,headerColor:n},this.ee),this.supportsParam=ei(i,{"setHeaderColor.color":["web_app_set_header_color","color"]})}async getRequestedContact(){return M("getRequestedContact",{},this.createRequestId(),{postEvent:this.postEvent,timeout:1e4}).then(e=>er.parse(e))}get backgroundColor(){return this.state.get("backgroundColor")}close(){this.postEvent("web_app_close")}get headerColor(){return this.state.get("headerColor")}get isBotInline(){return this.botInline}get isDark(){return K(this.backgroundColor)}get isRequestingPhoneAccess(){return this.requestingPhoneAccess}get isRequestingWriteAccess(){return this.requestingWriteAccess}ready(){this.postEvent("web_app_ready")}async requestContact({timeout:e=5e3}={}){try{return await this.getRequestedContact()}catch{}if(await this.requestPhoneAccess()!=="sent")throw Error("Access denied.");let t=Date.now()+e,n=50;return W(async()=>{for(;Date.now()<t;){try{return await this.getRequestedContact()}catch{}await function(e){return new Promise(t=>{setTimeout(t,e)})}(n),n+=50}throw Error("Unable to retrieve requested contact.")},e)}requestPhoneAccess(e={}){if(this.requestingPhoneAccess)throw Error("Phone access is already being requested.");return this.requestingPhoneAccess=!0,D("web_app_request_phone","phone_requested",{...e,postEvent:this.postEvent}).then(e=>e.status).finally(()=>{this.requestingPhoneAccess=!1})}requestWriteAccess(e={}){if(this.requestingWriteAccess)throw Error("Write access is already being requested.");return this.requestingWriteAccess=!0,D("web_app_request_write_access","write_access_requested",{...e,postEvent:this.postEvent}).then(e=>e.status).finally(()=>{this.requestingWriteAccess=!1})}sendData(e){let{size:t}=new Blob([e]);if(0===t||t>4096)throw Error(`Passed data has incorrect size: ${t}`);this.postEvent("web_app_data_send",{data:e})}setHeaderColor(e){this.postEvent("web_app_set_header_color",R(e)?{color:e}:{color_key:e}),this.state.set("headerColor",e)}setBackgroundColor(e){this.postEvent("web_app_set_background_color",{color:e}),this.state.set("backgroundColor",e)}switchInlineQuery(e,t=[]){if(!this.supports("switchInlineQuery")&&!this.isBotInline)throw Error("Method is unsupported because Mini App should be launched in inline mode.");this.postEvent("web_app_switch_inline_query",{query:e,chat_types:t})}}class es{constructor(e,t=h){s(this,"ee",new U),s(this,"state"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),s(this,"supports"),this.postEvent=t,this.state=new B({isOpened:!1},this.ee),this.supports=$(e,{open:"web_app_open_popup"})}set isOpened(e){this.state.set("isOpened",e)}get isOpened(){return this.state.get("isOpened")}open(e){if(this.isOpened)throw Error("Popup is already opened.");return this.isOpened=!0,D("web_app_open_popup","popup_closed",{postEvent:this.postEvent,params:function(e){let t=e.message.trim(),n=(e.title||"").trim(),r=e.buttons||[];if(n.length>64)throw Error(`Title has incorrect size: ${n.length}`);if(0===t.length||t.length>256)throw Error(`Message has incorrect size: ${t.length}`);if(r.length>3)throw Error(`Buttons have incorrect size: ${r.length}`);return{title:n,message:t,buttons:0===r.length?[{type:"close",id:""}]:r.map(e=>{let{id:t=""}=e;if(t.length>64)throw Error(`Button ID has incorrect size: ${t}`);if(void 0===e.type||"default"===e.type||"destructive"===e.type){let n=e.text.trim();if(0===n.length||n.length>64){let t=e.type||"default";throw Error(`Button text with type "${t}" has incorrect size: ${e.text.length}`)}return{...e,text:n,id:t}}return{...e,id:t}})}}(e)}).then(({button_id:e=null})=>e).finally(()=>{this.isOpened=!1})}}class ea{constructor(e,t=h){s(this,"ee",new U),s(this,"state"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),s(this,"supports"),this.postEvent=t,this.state=new B({isOpened:!1},this.ee),this.supports=$(e,{close:"web_app_close_scan_qr_popup",open:"web_app_open_scan_qr_popup"})}close(){this.postEvent("web_app_close_scan_qr_popup"),this.isOpened=!1}set isOpened(e){this.state.set("isOpened",e)}get isOpened(){return this.state.get("isOpened")}async open(e){if(this.isOpened)throw Error("QR scanner is already opened.");this.isOpened=!0;try{let t=await D("web_app_open_scan_qr_popup",["qr_text_received","scan_qr_popup_closed"],{postEvent:this.postEvent,params:{text:e}});return"object"==typeof t&&"string"==typeof t.data?t.data:null}finally{this.isOpened=!1}}}class ec{constructor(e,t,n=h){s(this,"ee",new U),s(this,"state"),s(this,"on",(e,t)=>"click"===e?I("settings_button_pressed",t):this.ee.on(e,t)),s(this,"off",(e,t)=>"click"===e?j("settings_button_pressed",t):this.ee.off(e,t)),s(this,"supports"),this.postEvent=n,this.state=new B({isVisible:e},this.ee),this.supports=$(t,{show:"web_app_setup_settings_button",hide:"web_app_setup_settings_button"})}set isVisible(e){this.state.set("isVisible",e),this.postEvent("web_app_setup_settings_button",{is_visible:e})}get isVisible(){return this.state.get("isVisible")}hide(){this.isVisible=!1}show(){this.isVisible=!0}}let el=O(e=>{let t=T().optional();return Object.entries(_(e)).reduce((e,[n,r])=>(e[n.replace(/(^|_)bg/,(e,t)=>`${t}background`).replace(/_([a-z])/g,(e,t)=>t.toUpperCase())]=t.parse(r),e),{})},"ThemeParams");class eu{constructor(e){s(this,"ee",new U),s(this,"state"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee)),this.state=new B(e,this.ee)}get accentTextColor(){return this.get("accentTextColor")}get backgroundColor(){return this.get("backgroundColor")}get buttonColor(){return this.get("buttonColor")}get buttonTextColor(){return this.get("buttonTextColor")}get destructiveTextColor(){return this.get("destructiveTextColor")}get(e){return this.state.get(e)}getState(){return this.state.clone()}get headerBackgroundColor(){return this.get("headerBackgroundColor")}get hintColor(){return this.get("hintColor")}get isDark(){return!this.backgroundColor||K(this.backgroundColor)}get linkColor(){return this.get("linkColor")}get secondaryBackgroundColor(){return this.get("secondaryBackgroundColor")}get sectionBackgroundColor(){return this.get("sectionBackgroundColor")}get sectionHeaderTextColor(){return this.get("sectionHeaderTextColor")}listen(){return I("theme_changed",e=>{var t;this.state.set((t=e.theme_params,el().parse(t)))})}get subtitleTextColor(){return this.get("subtitleTextColor")}get textColor(){return this.get("textColor")}}class eh{constructor(e,t,n=h){s(this,"supports"),s(this,"supportsParam"),this.version=e,this.createRequestId=t,this.postEvent=n,this.supports=$(e,{readTextFromClipboard:"web_app_read_text_from_clipboard"}),this.supportsParam=ei(e,{"openLink.tryInstantView":["web_app_open_link","try_instant_view"]})}openLink(e,t){let n=new URL(e,window.location.href).toString();if(!d("web_app_open_link",this.version)){window.open(n,"_blank");return}this.postEvent("web_app_open_link",{url:n,..."boolean"==typeof t?{try_instant_view:t}:{}})}openTelegramLink(e){let{hostname:t,pathname:n,search:r}=new URL(e,window.location.href);if("t.me"!==t)throw Error(`URL has not allowed hostname: ${t}. Only "t.me" is allowed`);if(!d("web_app_open_tg_link",this.version)){window.location.href=e;return}this.postEvent("web_app_open_tg_link",{path_full:n+r})}async readTextFromClipboard(){let e=this.createRequestId(),{data:t=null}=await D("web_app_read_text_from_clipboard","clipboard_text_received",{postEvent:this.postEvent,params:{req_id:e},capture:g(e)});return t}}async function ep(e){let t=await D("web_app_request_viewport","viewport_changed",e);return{height:t.height,width:t.width,isExpanded:t.is_expanded,isStateStable:t.is_state_stable}}function ed(e){return e<0?0:e}class ef{constructor(e){s(this,"ee",new U),s(this,"state"),s(this,"postEvent"),s(this,"on",this.ee.on.bind(this.ee)),s(this,"off",this.ee.off.bind(this.ee));let{height:t,isExpanded:n,width:r,stableHeight:i,postEvent:o=h}=e;this.postEvent=o,this.state=new B({height:ed(t),isExpanded:n,stableHeight:ed(i),width:ed(r)},this.ee)}sync(e){return ep(e).then(({height:e,isExpanded:t,width:n,isStateStable:r})=>{this.state.set({height:e,width:n,isExpanded:t,stableHeight:r?e:this.state.get("stableHeight")})})}get height(){return this.state.get("height")}get stableHeight(){return this.state.get("stableHeight")}listen(){return I("viewport_changed",e=>{let{height:t,width:n,is_expanded:r,is_state_stable:i}=e,o={height:ed(t),isExpanded:r,width:ed(n)};i&&(o.stableHeight=o.height),this.state.set(o)})}get isExpanded(){return this.state.get("isExpanded")}get width(){return this.state.get("width")}expand(){this.postEvent("web_app_expand"),this.state.set("isExpanded",!0)}get isStable(){return this.stableHeight===this.height}}function eb(e,t){document.documentElement.style.setProperty(e,t)}function eg(e){let t=()=>eb("--tg-viewport-height",`${e.height}px`),n=()=>eb("--tg-viewport-width",`${e.width}px`),r=()=>eb("--tg-viewport-stable-height",`${e.stableHeight}px`);e.on("change:height",t),e.on("change:width",n),e.on("change:stableHeight",r),t(),n(),r()}function ew(e){return`telegram-mini-apps-${e}`}function ey(e,t){sessionStorage.setItem(ew(e),JSON.stringify(t))}function em(e){let t=sessionStorage.getItem(ew(e));return t?JSON.parse(t):null}function ev(e){let t=new ef(e);return t.on("change",()=>ey("viewport",{height:t.height,isExpanded:t.isExpanded,stableHeight:t.stableHeight,width:t.width})),t.listen(),t}function e_(e,t,n,r){let i="object"==typeof e?e:e?{themeParams:!0,viewport:!0,miniApp:!0}:{};i.miniApp&&function(e,t){let n=()=>{eb("--tg-background-color",e.backgroundColor)},r=()=>{let{backgroundColor:n,secondaryBackgroundColor:r}=t;if(R(e.headerColor)){eb("--tg-header-color",e.headerColor);return}if("bg_color"===e.headerColor&&n){eb("--tg-header-color",n);return}"secondary_bg_color"===e.headerColor&&r&&eb("--tg-header-color",r)};t.on("change",r),e.on("change:backgroundColor",n),e.on("change:headerColor",r),n(),r()}(t,n),i.themeParams&&function(e){let t=()=>{Object.entries(e.getState()).forEach(([e,t])=>{if(t){let n=e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`);eb(`--tg-theme-${n}`,t)}})};e.on("change",t),t()}(n),i.viewport&&(r instanceof Promise?r.then(eg):eg(r))}function eE(e){return ee({botInline:{type:P().optional(),from:"tgWebAppBotInline"},initData:{type:ee({authDate:{type:X(),from:"auth_date"},canSendAfter:{type:A().optional(),from:"can_send_after"},chat:S({id:A(),type:C(),title:C(),photoUrl:{type:C().optional(),from:"photo_url"},username:C().optional()},"Chat").optional(),chatInstance:{type:C().optional(),from:"chat_instance"},chatType:{type:C().optional(),from:"chat_type"},hash:C(),queryId:{type:C().optional(),from:"query_id"},receiver:Z().optional(),startParam:{type:C().optional(),from:"start_param"},user:Z().optional()},"InitData").optional(),from:"tgWebAppData"},initDataRaw:{type:C().optional(),from:"tgWebAppData"},platform:{type:C(),from:"tgWebAppPlatform"},showSettings:{type:P().optional(),from:"tgWebAppShowSettings"},startParam:{type:C().optional(),from:"tgWebAppStartParam"},themeParams:{type:el(),from:"tgWebAppThemeParams"},version:{type:C(),from:"tgWebAppVersion"}},"LaunchParams").parse(e)}function eS(e){return eE(e.includes("?")?e.replace("#","&").slice(e.indexOf("?")+1):e.slice(e.indexOf("#")+1))}function eO(){return eS(window.location.href)}function eC(){return performance.getEntriesByType("navigation")[0]}function ex(){let e=eC();if(!e)throw Error("Unable to get first navigation entry.");return eS(e.name)}let eR="telegram-mini-apps-launch-params";function ek(){return eE(sessionStorage.getItem(eR)||"")}function eT(e={}){let{async:t=!1,complete:n=t,cssVars:r=!1,acceptCustomStyles:i=!1}=e;try{var o;let e;let{initData:t,initDataRaw:s,version:a,platform:p,themeParams:g,botInline:w=!1}=function(){let e=[];for(let t of[eO,ex,ek])try{let e=t();return sessionStorage.setItem(eR,function(e){let{initDataRaw:t,themeParams:n,platform:r,version:i,showSettings:o,startParam:s,botInline:a}=e,c=new URLSearchParams;return t&&c.set("tgWebAppData",t),c.set("tgWebAppPlatform",r),c.set("tgWebAppThemeParams",JSON.stringify(Object.entries(n).reduce((e,[t,n])=>(n&&(e[t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`).replace(/(^|_)background/,(e,t)=>`${t}bg`)]=n),e),{}))),c.set("tgWebAppVersion",i),s&&c.set("tgWebAppStartParam",i),"boolean"==typeof o&&c.set("tgWebAppShowSettings",o?"1":"0"),"boolean"==typeof a&&c.set("tgWebAppBotInline",a?"1":"0"),c.toString()}(e)),e}catch(t){e.push(t)}throw c.error("Unable to extract launch parameters. Received errors:",e),Error("Unable to retrieve launch parameters from any known source.")}(),y=(null==(o=eC())?void 0:o.type)==="reload",m=(e=0,()=>(e+=1).toString()),v=(e,t)=>{if(!d(e,a))throw new f(e,a);if(u(t)){let n;if("web_app_open_link"===e&&"try_instant_view"in t?n="try_instant_view":"web_app_set_header_color"===e&&"color"in t&&(n="color"),n&&!d(e,n,a))throw new b(e,n,a)}return h(e,t)};l()&&(i&&function(){let e=document.createElement("style");e.id="telegram-custom-styles",document.head.appendChild(e),I("set_custom_style",t=>{e.innerHTML=t})}(),v("iframe_ready",{reload_supported:!0}),I("reload_iframe",()=>{v("iframe_will_reload"),window.location.reload()}));let _={backButton:function(e,t,n){let{isVisible:r=!1}=e&&em("back-button")||{},i=new V(r,t,n);return i.on("change",()=>{ey("back-button",{isVisible:i.isVisible})}),i}(y,a,v),closingBehavior:function(e,t){let{isConfirmationNeeded:n=!1}=e&&em("closing-behavior")||{},r=new H(n,t);return r.on("change",()=>ey("closing-behavior",{isConfirmationNeeded:r.isConfirmationNeeded})),r}(y,v),cloudStorage:new J(a,m,v),createRequestId:m,hapticFeedback:new Q(a,v),invoice:new et(a,v),mainButton:function(e,t,n,r){let{backgroundColor:i=t,isEnabled:o=!1,isVisible:s=!1,isLoaderVisible:a=!1,textColor:c=n,text:l=""}=e&&em("main-button")||{},u=new en({backgroundColor:i,isEnabled:o,isLoaderVisible:a,isVisible:s,postEvent:r,text:l,textColor:c});return u.on("change",()=>ey("main-button",{backgroundColor:u.backgroundColor,isEnabled:u.isEnabled,isLoaderVisible:u.isLoaderVisible,isVisible:u.isVisible,text:u.text,textColor:u.textColor})),u}(y,g.buttonColor||"#000000",g.buttonTextColor||"#ffffff",v),miniApp:function(e,t,n,r,i,o){let{backgroundColor:s=t,headerColor:a="bg_color"}=e&&em("mini-app")||{},c=new eo({headerColor:a,backgroundColor:s,version:n,botInline:r,createRequestId:i,postEvent:o});return c.on("change",()=>ey("mini-app",{backgroundColor:c.backgroundColor,headerColor:c.headerColor})),c}(y,g.backgroundColor||"#ffffff",a,w,m,v),popup:new es(a,v),postEvent:v,qrScanner:new ea(a,v),settingsButton:function(e,t,n){let{isVisible:r=!1}=e&&em("settings-button")||{},i=new ec(r,t,n);return i.on("change",()=>{ey("settings-button",{isVisible:i.isVisible})}),i}(y,a,v),themeParams:function(e){let t=new eu(e);return t.listen(),t}(g),utils:new eh(a,m,v),...t?{initData:new Y(t),initDataRaw:s}:{}},E=function(e,t,n,r){let i=e?em("viewport"):null;if(i)return ev({...i,postEvent:n});if(["macos","tdesktop","unigram","web","weba"].includes(t))return ev({height:window.innerHeight,isExpanded:!0,postEvent:n,stableHeight:window.innerHeight,width:window.innerWidth});if(r)return ep({postEvent:n,timeout:5e3}).then(({height:e,isStateStable:t,...n})=>ev({...n,height:e,stableHeight:t?e:0}));let o=ev({width:0,height:0,isExpanded:!1,postEvent:n,stableHeight:0});return o.sync({postEvent:n,timeout:5e3}).catch(e=>{console.error("Unable to actualize viewport state",e)}),o}(y,p,v,n);return E instanceof Promise||n?Promise.resolve(E).then(e=>(e_(r,_.miniApp,_.themeParams,e),{..._,viewport:e})):(e_(r,_.miniApp,_.themeParams,E),{..._,viewport:E})}catch(e){if(n)return Promise.reject(e);throw e}}function eP(e,t){return n=>{function i(i){let o={...i,[e]:t()};return r.createElement(n,{...o})}return Object.defineProperty(i,"name",{value:`With${e[0].toUpperCase()}${e.slice(1)}`}),i}}let eA=(0,r.createContext)({loading:!1});function eU({options:e,children:t}){let[n,i]=(0,r.useState)(!1),[o,s]=(0,r.useState)(),[a,c]=(0,r.useState)();(0,r.useEffect)(()=>{i(!0),eT({...e,complete:!0}).then(c).catch(s).finally(()=>i(!1))},[]);let l=(0,r.useMemo)(()=>{let e={loading:n};return o&&(e.error=o),a&&(e.initResult=a),e},[n,a,o]);return r.createElement(eA.Provider,{value:l},t)}function eN({options:e={},children:t}){let n=(0,r.useMemo)(()=>{let t={loading:!1};try{t.initResult=eT({...e,complete:!1})}catch(e){t.error=e}return t},[]);return r.createElement(eA.Provider,{value:n},t)}function eL(e){let{options:t={},async:n}=e;return t.async||t.complete||n?r.createElement(eU,{...e}):r.createElement(eN,{...e})}function ej(){return(0,r.useContext)(eA)}function eI(e){let{initResult:t}=ej();if(!t)throw Error(`Unable to get init result key "${e}" as long as SDK is not initialized`);return t[e]}function eq(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function eW(e,t){return t?()=>(function(e){let t=eI(e),[n,i]=(0,r.useState)(eq(t));return(0,r.useEffect)(()=>t.on("change",()=>{i(eq(t))}),[t]),n})(e):()=>eI(e)}eA.displayName="SDKContext";let eD=eW("backButton",!0),eM=(eP("backButton",eD),eW("closingBehavior",!0)),eK=(eP("closingBehavior",eM),eW("cloudStorage")),eB=(eP("cloudStorage",eK),eW("hapticFeedback")),e$=(eP("hapticFeedback",eB),eW("initData")),eV=(eP("initData",e$),eW("initDataRaw")),eH=(eP("initDataRaw",eV),eW("invoice",!0));eP("invoice",eH);let ez=eW("mainButton",!0),eF=(eP("mainButton",ez),eW("miniApp",!0)),eG=(eP("miniApp",eF),eW("popup",!0)),eJ=(eP("popup",eG),eW("postEvent")),eQ=(eP("postEvent",eJ),eW("settingsButton",!0)),eY=(eP("settingsButton",eQ),eW("qrScanner",!0)),eZ=(eP("qrScanner",eY),eW("themeParams",!0)),eX=(eP("themeParams",eZ),eW("utils")),e5=(eP("utils",eX),eW("viewport",!0));function e1(e,t={}){return"function"==typeof e?r.createElement(e,{...t}):e}function e0(e){let{loading:t,initResult:n,error:r}=ej();return n?e.children:r?e1(e.error,{error:r}):e1(t?e.loading:e.initial)}eP("viewport",e5)},8731:function(e,t,n){"use strict";n.d(t,{DS:function(){return w},QJ:function(){return l},SW:function(){return m},m6:function(){return v},sX:function(){return f},uJ:function(){return h}});var r,i,o,s,a,c,l,u,h,p,d,f,b=n(6354),g=n(7085);n(357),(r=l||(l={}))[r.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",r[r.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",r[r.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",r[r.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",r[r.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",r[r.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",r[r.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(i=u||(u={}))[i.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",i[i.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(o=h||(h={}))[o.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",o[o.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",o[o.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",o[o.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",o[o.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(s=p||(p={}))[s.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",s[s.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",s[s.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",s[s.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",s[s.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(a=d||(d={}))[a.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",a[a.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",a[a.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",a[a.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED",(c=f||(f={})).MAINNET="-239",c.TESTNET="-3";let w={encode:function(e,t=!1){let n;return e instanceof Uint8Array?n=e:("string"!=typeof e&&(e=JSON.stringify(e)),n=b.decodeUTF8(e)),function(e,t){let n=b.encodeBase64(e);return t?encodeURIComponent(n):n}(n,t)},decode:function(e,t=!1){var n;let r=(n=e,t&&(n=decodeURIComponent(n)),b.decodeBase64(n));return{toString:()=>b.encodeUTF8(r),toObject(){try{return JSON.parse(b.encodeUTF8(r))}catch(e){return null}},toUint8Array:()=>r}}};function y(e){let t="";return e.forEach(e=>{t+=("0"+(255&e).toString(16)).slice(-2)}),t}function m(e){if(e.length%2!=0)throw Error(`Cannot convert ${e} to bytesArray`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}class v{constructor(e){this.nonceLength=24,this.keyPair=e?this.createKeypairFromString(e):this.createKeypair(),this.sessionId=y(this.keyPair.publicKey)}createKeypair(){return g.box.keyPair()}createKeypairFromString(e){return{publicKey:m(e.publicKey),secretKey:m(e.secretKey)}}createNonce(){return g.randomBytes(this.nonceLength)}encrypt(e,t){let n=new TextEncoder().encode(e),r=this.createNonce(),i=g.box(n,r,t,this.keyPair.secretKey);return function(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}(r,i)}decrypt(e,t){let[n,r]=function(e,t){if(t>=e.length)throw Error("Index is out of buffer");return[e.slice(0,t),e.slice(t)]}(e,this.nonceLength),i=g.box.open(r,n,t,this.keyPair.secretKey);if(!i)throw Error(`Decryption error: 
 message: ${e.toString()} 
 sender pubkey: ${t.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(i)}stringifyKeypair(){return{publicKey:y(this.keyPair.publicKey),secretKey:y(this.keyPair.secretKey)}}}},5699:function(e,t,n){"use strict";n.d(t,{Lh:function(){return $},Ob:function(){return P},PS:function(){return F},_Y:function(){return o},dg:function(){return T},eo:function(){return B},mb:function(){return G},rM:function(){return K},sX:function(){return r.sX}});var r=n(8731);function i(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,a)}c((r=r.apply(e,t||[])).next())})}class o extends Error{constructor(e,t){super(e,t),this.message=`${o.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${e?"\n"+e:""}`,Object.setPrototypeOf(this,o.prototype)}get info(){return""}}o.prefix="[TON_CONNECT_SDK_ERROR]";class s extends o{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,s.prototype)}}class a extends o{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,a.prototype)}}class c extends o{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...e){super(...e),Object.setPrototypeOf(this,c.prototype)}}class l extends o{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...e){super(...e),Object.setPrototypeOf(this,l.prototype)}}class u extends o{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,u.prototype)}}class h extends o{get info(){return"User rejects the action in the wallet."}constructor(...e){super(...e),Object.setPrototypeOf(this,h.prototype)}}class p extends o{get info(){return"Request to the wallet contains errors."}constructor(...e){super(...e),Object.setPrototypeOf(this,p.prototype)}}class d extends o{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...e){super(...e),Object.setPrototypeOf(this,d.prototype)}}class f extends o{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...e){super(...e),Object.setPrototypeOf(this,f.prototype)}}class b extends o{get info(){return"Storage was not specified in the `DappMetadata` and default `localStorage` was not detected in the environment."}constructor(...e){super(...e),Object.setPrototypeOf(this,b.prototype)}}class g extends o{get info(){return"An error occurred while fetching the wallets list."}constructor(...e){super(...e),Object.setPrototypeOf(this,g.prototype)}}class w extends o{get info(){return"Passed address is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,w.prototype)}}class y extends o{get info(){return"Passed hex is in incorrect format."}constructor(...e){super(...e),Object.setPrototypeOf(this,y.prototype)}}class m extends o{constructor(...e){super(...e),Object.setPrototypeOf(this,m.prototype)}}let v={[r.QJ.UNKNOWN_ERROR]:m,[r.QJ.USER_REJECTS_ERROR]:h,[r.QJ.BAD_REQUEST_ERROR]:p,[r.QJ.UNKNOWN_APP_ERROR]:d,[r.QJ.MANIFEST_NOT_FOUND_ERROR]:c,[r.QJ.MANIFEST_CONTENT_ERROR]:a};class _{parseError(e){let t=m;return e.code in v&&(t=v[e.code]||m),new t(e.message)}}let E=new _;class S{isError(e){return"error"in e}}let O={[r.uJ.UNKNOWN_ERROR]:m,[r.uJ.USER_REJECTS_ERROR]:h,[r.uJ.BAD_REQUEST_ERROR]:p,[r.uJ.UNKNOWN_APP_ERROR]:d};class C extends S{convertToRpcRequest(e){return{method:"sendTransaction",params:[JSON.stringify(e)]}}parseAndThrowError(e){let t=m;throw e.error.code in O&&(t=O[e.error.code]||m),new t(e.error.message)}convertFromRpcResponse(e){return{boc:e.result}}}let x=new C;class R{constructor(e,t){this.storage=e,this.storeKey="ton-connect-storage_http-bridge-gateway::"+t}storeLastEventId(e){return i(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,e)})}removeLastEventId(){return i(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return i(this,void 0,void 0,function*(){return(yield this.storage.getItem(this.storeKey))||null})}}function k(e,t){return("/"===e.slice(-1)?e.slice(0,-1):e)+"/"+t}function T(e){let t=new URL(e);return"tg:"===t.protocol||"t.me"===t.hostname}function P(e){return e.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}class A{constructor(e,t,n,r,i){this.bridgeUrl=t,this.sessionId=n,this.listener=r,this.errorsListener=i,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.isClosed=!1,this.bridgeGatewayStorage=new R(e,t)}registerSession(e){return i(this,void 0,void 0,function*(){let t=new URL(k(this.bridgeUrl,this.ssePath));t.searchParams.append("client_id",this.sessionId);let n=yield this.bridgeGatewayStorage.getLastEventId();if(!this.isClosed)return n&&t.searchParams.append("last_event_id",n),this.eventSource=new EventSource(t.toString()),new Promise((t,n)=>{let r=(null==e?void 0:e.openingDeadlineMS)?setTimeout(()=>{var e;(null===(e=this.eventSource)||void 0===e?void 0:e.readyState)!==EventSource.OPEN&&(n(new o("Bridge connection timeout")),this.close())},e.openingDeadlineMS):void 0;this.eventSource.onerror=()=>n,this.eventSource.onopen=()=>{clearTimeout(r),this.isClosed=!1,this.eventSource.onerror=this.errorsHandler.bind(this),this.eventSource.onmessage=this.messagesHandler.bind(this),t()}})})}send(e,t,n,o){return i(this,void 0,void 0,function*(){let i=new URL(k(this.bridgeUrl,this.postPath));i.searchParams.append("client_id",this.sessionId),i.searchParams.append("to",t),i.searchParams.append("ttl",(o||this.defaultTtl).toString()),i.searchParams.append("topic",n),yield fetch(i,{method:"post",body:r.DS.encode(e)})})}pause(){var e;null===(e=this.eventSource)||void 0===e||e.close()}unPause(){return this.registerSession()}close(){var e;this.isClosed=!0,null===(e=this.eventSource)||void 0===e||e.close()}setListener(e){this.listener=e}setErrorsListener(e){this.errorsListener=e}errorsHandler(e){var t,n;if(!this.isClosed){if((null===(t=this.eventSource)||void 0===t?void 0:t.readyState)===EventSource.CLOSED){this.eventSource.close(),this.registerSession();return}if((null===(n=this.eventSource)||void 0===n?void 0:n.readyState)===EventSource.CONNECTING){console.debug("[TON_CONNET_SDK_ERROR]: Bridge error",JSON.stringify(e));return}this.errorsListener(e)}}messagesHandler(e){return i(this,void 0,void 0,function*(){if(e.data!==this.heartbeatMessage&&(yield this.bridgeGatewayStorage.storeLastEventId(e.lastEventId),!this.isClosed)){let t;try{t=JSON.parse(e.data)}catch(e){throw new o(`Bridge message parse failed, message ${e.data}`)}this.listener(t)}})}}function U(e){return!("connectEvent"in e)}class N{constructor(e){this.storage=e,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(e){return i(this,void 0,void 0,function*(){if("injected"===e.type)return this.storage.setItem(this.storeKey,JSON.stringify(e));if(!U(e)){let t={sessionKeyPair:e.session.sessionCrypto.stringifyKeypair(),walletPublicKey:e.session.walletPublicKey,bridgeUrl:e.session.bridgeUrl},n={type:"http",connectEvent:e.connectEvent,session:t,lastWalletEventId:e.lastWalletEventId,nextRpcRequestId:e.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(n))}let t={type:"http",connectionSource:e.connectionSource,sessionCrypto:e.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(t))})}removeConnection(){return i(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return i(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);if(!e)return null;let t=JSON.parse(e);if("injected"===t.type)return t;if("connectEvent"in t){let e=new r.m6(t.session.sessionKeyPair);return{type:"http",connectEvent:t.connectEvent,lastWalletEventId:t.lastWalletEventId,nextRpcRequestId:t.nextRpcRequestId,session:{sessionCrypto:e,bridgeUrl:t.session.bridgeUrl,walletPublicKey:t.session.walletPublicKey}}}return{type:"http",sessionCrypto:new r.m6(t.sessionCrypto),connectionSource:t.connectionSource}})}getHttpConnection(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new o("Trying to read HTTP connection source while nothing is stored");if("injected"===e.type)throw new o("Trying to read HTTP connection source while injected connection is stored");return e})}getHttpPendingConnection(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new o("Trying to read HTTP connection source while nothing is stored");if("injected"===e.type)throw new o("Trying to read HTTP connection source while injected connection is stored");if(!U(e))throw new o("Trying to read HTTP-pending connection while http connection is stored");return e})}getInjectedConnection(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();if(!e)throw new o("Trying to read Injected bridge connection source while nothing is stored");if((null==e?void 0:e.type)==="http")throw new o("Trying to read Injected bridge connection source while HTTP connection is stored");return e})}storedConnectionType(){return i(this,void 0,void 0,function*(){let e=yield this.storage.getItem(this.storeKey);return e?JSON.parse(e).type:null})}storeLastWalletEventId(e){return i(this,void 0,void 0,function*(){let t=yield this.getConnection();if(t&&"http"===t.type&&!U(t))return t.lastWalletEventId=e,this.storeConnection(t)})}getLastWalletEventId(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"lastWalletEventId"in e)return e.lastWalletEventId})}increaseNextRpcRequestId(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();if(e&&"nextRpcRequestId"in e){let t=e.nextRpcRequestId||0;return e.nextRpcRequestId=t+1,this.storeConnection(e)}})}getNextRpcRequestId(){return i(this,void 0,void 0,function*(){let e=yield this.getConnection();return e&&"nextRpcRequestId"in e&&e.nextRpcRequestId||0})}}function L(...e){try{console.debug("[TON_CONNECT_SDK]",...e)}catch(e){}}function j(...e){try{console.error("[TON_CONNECT_SDK]",...e)}catch(e){}}class I{constructor(e,t){this.storage=e,this.walletConnectionSource=t,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.connectionStorage=new N(e)}static fromStorage(e){return i(this,void 0,void 0,function*(){let t=new N(e),n=yield t.getHttpConnection();return U(n)?new I(e,n.connectionSource):new I(e,{bridgeUrl:n.session.bridgeUrl})})}connect(e){this.closeGateways();let t=new r.m6;this.session={sessionCrypto:t,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:t}).then(()=>this.openGateways(t));let n="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(n,e)}restoreConnection(){return i(this,void 0,void 0,function*(){this.closeGateways();let e=yield this.connectionStorage.getHttpConnection();if(e){if(U(e))return this.session={sessionCrypto:e.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.openGateways(e.sessionCrypto,{openingDeadlineMS:5e3});if(Array.isArray(this.walletConnectionSource))throw new o("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");this.session=e.session,this.gateway=new A(this.storage,this.walletConnectionSource.bridgeUrl,e.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this));try{yield this.gateway.registerSession({openingDeadlineMS:5e3})}catch(e){yield this.disconnect();return}this.listeners.forEach(t=>t(e.connectEvent))}})}sendRequest(e,t){return new Promise((n,s)=>i(this,void 0,void 0,function*(){if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new o("Trying to send bridge request without session");let i=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),L("Send http-bridge request:",Object.assign(Object.assign({},e),{id:i}));let a=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},e),{id:i})),(0,r.SW)(this.session.walletPublicKey));this.gateway.send(a,this.session.walletPublicKey,e.method).catch(s),this.pendingRequests.set(i.toString(),n),null==t||t()}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(){return i(this,void 0,void 0,function*(){return new Promise(e=>i(this,void 0,void 0,function*(){let t=!1;try{yield this.sendRequest({method:"disconnect",params:[]},()=>{t=!0,this.removeBridgeAndSession().then(e)})}catch(n){console.debug(n),t||this.removeBridgeAndSession().then(e)}}))})}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(t=>t!==e)}pause(){var e;null===(e=this.gateway)||void 0===e||e.pause(),this.pendingGateways.forEach(e=>e.pause())}unPause(){return i(this,void 0,void 0,function*(){let e=this.pendingGateways.map(e=>e.unPause());this.gateway&&e.push(this.gateway.unPause()),yield Promise.all(e)})}pendingGatewaysListener(e,t,n){return i(this,void 0,void 0,function*(){if(!this.pendingGateways.includes(e)){e.close();return}return this.closeGateways({except:e}),this.session.bridgeUrl=t,this.gateway=e,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(n)})}gatewayListener(e){return i(this,void 0,void 0,function*(){let t=JSON.parse(this.session.sessionCrypto.decrypt(r.DS.decode(e.message).toUint8Array(),(0,r.SW)(e.from)));if(L("Wallet message received:",t),!("event"in t)){let e=t.id.toString(),n=this.pendingRequests.get(e);if(!n){L(`Response id ${e} doesn't match any request's id`);return}n(t),this.pendingRequests.delete(e);return}if(void 0!==t.id){let e=yield this.connectionStorage.getLastWalletEventId();if(void 0!==e&&t.id<=e){j(`Received event id (=${t.id}) must be greater than stored last wallet event id (=${e}) `);return}"connect"!==t.event&&(yield this.connectionStorage.storeLastWalletEventId(t.id))}let n=this.listeners;"connect"===t.event&&(yield this.updateSession(t,e.from)),"disconnect"===t.event&&(yield this.removeBridgeAndSession()),n.forEach(e=>e(t))})}gatewayErrorsListener(e){return i(this,void 0,void 0,function*(){throw new o(`Bridge error ${JSON.stringify(e)}`)})}updateSession(e,t){return i(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:t});let n=e.payload.items.find(e=>"ton_addr"===e.name),r=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{items:[n]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:e.id,connectEvent:r,nextRpcRequestId:0})})}removeBridgeAndSession(){return i(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(e,t){return T(e)?this.generateTGUniversalLink(e,t):this.generateRegularUniversalLink(e,t)}generateRegularUniversalLink(e,t){let n=new URL(e);return n.searchParams.append("v","2"),n.searchParams.append("id",this.session.sessionCrypto.sessionId),n.searchParams.append("r",JSON.stringify(t)),n.toString()}generateTGUniversalLink(e,t){let n="tonconnect-"+P(this.generateRegularUniversalLink("about:blank",t).split("?")[1]),r=new URL(e);return r.searchParams.append("startattach",n),r.toString()}openGateways(e,t){return i(this,void 0,void 0,function*(){if(!Array.isArray(this.walletConnectionSource))return this.gateway=new A(this.storage,this.walletConnectionSource.bridgeUrl,e.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),this.gateway.registerSession(t);this.pendingGateways=this.walletConnectionSource.map(t=>{let n=new A(this.storage,t.bridgeUrl,e.sessionId,()=>{},e=>{console.error(e)});return n.setListener(e=>this.pendingGatewaysListener(n,t.bridgeUrl,e)),n}),yield Promise.allSettled(this.pendingGateways.map(e=>e.registerSession(t)))})}closeGateways(e){var t;null===(t=this.gateway)||void 0===t||t.close(),this.pendingGateways.filter(t=>t!==(null==e?void 0:e.except)).forEach(e=>e.close()),this.pendingGateways=[]}}function q(e,t){return!!e&&"object"==typeof e&&t.every(t=>t in e)}function W(){if("undefined"!=typeof window)return window}class D{constructor(e,t){this.injectedWalletKey=t,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];let n=D.window;if(!D.isWindowContainsWallet(n,t))throw new f;this.connectionStorage=new N(e),this.injectedWallet=n[t].tonconnect}static fromStorage(e){return i(this,void 0,void 0,function*(){let t=new N(e);return new D(e,(yield t.getInjectedConnection()).jsBridgeKey)})}static isWalletInjected(e){return D.isWindowContainsWallet(this.window,e)}static isInsideWalletBrowser(e){return!!D.isWindowContainsWallet(this.window,e)&&this.window[e].tonconnect.isWalletBrowser}static getCurrentlyInjectedWallets(){return this.window?Object.entries(this.window).filter(([e,t])=>(function(e){try{var t,n,r;if(t="tonconnect",!q(e,[t])||(n=e.tonconnect,r="walletInfo",!q(n,[r])))return!1;return q(e.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch(e){return!1}})(t)).map(([e,t])=>({name:t.tonconnect.walletInfo.name,appName:t.tonconnect.walletInfo.app_name,aboutUrl:t.tonconnect.walletInfo.about_url,imageUrl:t.tonconnect.walletInfo.image,tondns:t.tonconnect.walletInfo.tondns,jsBridgeKey:e,injected:!0,embedded:t.tonconnect.isWalletBrowser,platforms:t.tonconnect.walletInfo.platforms})):[]}static isWindowContainsWallet(e,t){return!!e&&t in e&&"object"==typeof e[t]&&"tonconnect"in e[t]}connect(e){this._connect(2,e)}restoreConnection(){return i(this,void 0,void 0,function*(){try{L("Injected Provider restoring connection...");let e=yield this.injectedWallet.restoreConnection();L("Injected Provider restoring connection response",e),"connect"===e.event?(this.makeSubscriptions(),this.listeners.forEach(t=>t(e))):yield this.connectionStorage.removeConnection()}catch(e){yield this.connectionStorage.removeConnection(),console.error(e)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return i(this,void 0,void 0,function*(){return new Promise(e=>{let t=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(e)};try{this.injectedWallet.disconnect(),t()}catch(e){L(e),this.sendRequest({method:"disconnect",params:[]},t)}})})}closeAllListeners(){var e;this.listenSubscriptions=!1,this.listeners=[],null===(e=this.unsubscribeCallback)||void 0===e||e.call(this)}listen(e){return this.listeners.push(e),()=>this.listeners=this.listeners.filter(t=>t!==e)}sendRequest(e,t){return i(this,void 0,void 0,function*(){let n=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),L("Send injected-bridge request:",Object.assign(Object.assign({},e),{id:n}));let r=this.injectedWallet.send(Object.assign(Object.assign({},e),{id:n}));return r.then(e=>L("Wallet message received:",e)),null==t||t(),r})}_connect(e,t){return i(this,void 0,void 0,function*(){try{L(`Injected Provider connect request: protocolVersion: ${e}, message:`,t);let n=yield this.injectedWallet.connect(e,t);L("Injected Provider connect response:",n),"connect"===n.event&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(e=>e(n))}catch(t){L(t);let e={event:"connect_error",payload:{code:0,message:null==t?void 0:t.toString()}};this.listeners.forEach(t=>t(e))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(e=>{L("Wallet message received:",e),this.listenSubscriptions&&this.listeners.forEach(t=>t(e)),"disconnect"===e.event&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}D.window=W();class M{constructor(){let e=W();if(!(null==e?void 0:e.localStorage))throw new b;this.window=e}getItem(e){return i(this,void 0,void 0,function*(){return Promise.resolve(this.window.localStorage.getItem(e))})}removeItem(e){return i(this,void 0,void 0,function*(){return this.window.localStorage.removeItem(e),Promise.resolve()})}setItem(e,t){return this.window.localStorage.setItem(e,t),Promise.resolve()}}function K(e){return"jsBridgeKey"in e&&e.injected}function B(e){return K(e)&&e.embedded}function $(e){return"bridgeUrl"in e}let V=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox"]},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"tonflow",name:"TonFlow",image:"https://tonflow.net/assets/images/tonflow_ico_192.png",about_url:"https://tonflow.net",bridge:[{type:"js",key:"tonflow"}],platforms:["chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://app.delabwallet.com/logo_black.png",about_url:"https://delabwallet.com",bridge:[{type:"js",key:"dewallet"}],platforms:["chrome"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];class H{constructor(e){this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource="https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",(null==e?void 0:e.walletsListSource)&&(this.walletsListSource=e.walletsListSource),(null==e?void 0:e.cacheTTLMs)&&(this.cacheTTLMs=e.cacheTTLMs)}getWallets(){return i(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return i(this,void 0,void 0,function*(){let e=(yield this.getWallets()).filter(B);return 1!==e.length?null:e[0]})}fetchWalletsList(){return i(this,void 0,void 0,function*(){let e=[];try{let t=yield fetch(this.walletsListSource);if(e=yield t.json(),!Array.isArray(e))throw new g("Wrong wallets list format, wallets list must be an array.");let n=e.filter(e=>!this.isCorrectWalletConfigDTO(e));n.length&&(j(`Wallet(s) ${n.map(e=>e.name).join(", ")} config format is wrong. They were removed from the wallets list.`),e=e.filter(e=>this.isCorrectWalletConfigDTO(e)))}catch(t){j(t),e=V}let t=[];try{t=D.getCurrentlyInjectedWallets()}catch(e){j(e)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(e),t)})}walletConfigDTOListToWalletConfigList(e){return e.map(e=>{let t={name:e.name,appName:e.app_name,imageUrl:e.image,aboutUrl:e.about_url,tondns:e.tondns,platforms:e.platforms};return e.bridge.forEach(n=>{if("sse"===n.type&&(t.bridgeUrl=n.url,t.universalLink=e.universal_url,t.deepLink=e.deepLink),"js"===n.type){let e=n.key;t.jsBridgeKey=e,t.injected=D.isWalletInjected(e),t.embedded=D.isInsideWalletBrowser(e)}}),t})}mergeWalletsLists(e,t){return[...new Set(e.concat(t).map(e=>e.name)).values()].map(n=>{let r=e.find(e=>e.name===n),i=t.find(e=>e.name===n);return Object.assign(Object.assign({},r&&Object.assign({},r)),i&&Object.assign({},i))})}isCorrectWalletConfigDTO(e){if(!e||"object"!=typeof e||!("name"in e)||!("image"in e)||!("about_url"in e)||!("platforms"in e)||!("app_name"in e)||!e.platforms||!Array.isArray(e.platforms)||!e.platforms.length||!("bridge"in e)||!Array.isArray(e.bridge)||!e.bridge.length)return!1;let t=e.bridge;if(t.some(e=>!e||"object"!=typeof e||!("type"in e)))return!1;let n=t.find(e=>"sse"===e.type);if(n&&(!("url"in n)||!n.url||!e.universal_url))return!1;let r=t.find(e=>"js"===e.type);return!r||"key"in r&&!!r.key}}class z extends o{get info(){return"Wallet doesn't support requested feature method."}constructor(...e){super(...e),Object.setPrototypeOf(this,z.prototype)}}class F{constructor(e){if(this.walletsList=new H,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(null==e?void 0:e.manifestUrl)||function(){var e;let t=null===(e=W())||void 0===e?void 0:e.location.origin;return t?t+"/tonconnect-manifest.json":""}(),storage:(null==e?void 0:e.storage)||new M},this.walletsList=new H({walletsListSource:null==e?void 0:e.walletsListSource,cacheTTLMs:null==e?void 0:e.walletsListCacheTTLMs}),!this.dappSettings.manifestUrl)throw new s("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new N(this.dappSettings.storage),(null==e?void 0:e.disableAutoPauseConnection)||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return null!==this._wallet}get account(){var e;return(null===(e=this._wallet)||void 0===e?void 0:e.account)||null}get wallet(){return this._wallet}set wallet(e){this._wallet=e,this.statusChangeSubscriptions.forEach(e=>e(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(e,t){return this.statusChangeSubscriptions.push(e),t&&this.statusChangeErrorSubscriptions.push(t),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(t=>t!==e),t&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(e=>e!==t))}}connect(e,t){var n;if(this.connected)throw new l;return null===(n=this.provider)||void 0===n||n.closeConnection(),this.provider=this.createProvider(e),this.provider.connect(this.createConnectRequest(t))}restoreConnection(){return i(this,void 0,void 0,function*(){let[e,t]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);try{switch(e){case"http":this.provider=yield I.fromStorage(this.dappSettings.storage);break;case"injected":this.provider=yield D.fromStorage(this.dappSettings.storage);break;default:if(!t)return;this.provider=yield this.createProvider(t)}}catch(e){yield this.bridgeConnectionStorage.removeConnection(),this.provider=null;return}return this.provider.listen(this.walletEventsListener.bind(this)),this.provider.restoreConnection()})}sendTransaction(e){return i(this,void 0,void 0,function*(){this.checkConnection(),function(e,t){let n=e.includes("SendTransaction"),r=e.find(e=>e&&"object"==typeof e&&"SendTransaction"===e.name);if(!n&&!r)throw new z("Wallet doesn't support SendTransaction feature.");if(r&&void 0!==r.maxMessages){if(r.maxMessages<t.requiredMessagesNumber)throw new z(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${r.maxMessages}, but ${t.requiredMessagesNumber} is required.`);return}!function(...e){try{console.warn("[TON_CONNECT_SDK]",...e)}catch(e){}}("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}(this.wallet.device.features,{requiredMessagesNumber:e.messages.length});let{validUntil:t}=e,n=/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}(e,["validUntil"]),r=e.from||this.account.address,i=e.network||this.account.chain,o=yield this.provider.sendRequest(x.convertToRpcRequest(Object.assign(Object.assign({},n),{valid_until:t,from:r,network:i})));return x.isError(o)?x.parseAndThrowError(o):x.convertFromRpcResponse(o)})}disconnect(){return i(this,void 0,void 0,function*(){if(!this.connected)throw new u;yield this.provider.disconnect(),this.onWalletDisconnected()})}pauseConnection(){var e;(null===(e=this.provider)||void 0===e?void 0:e.type)==="http"&&this.provider.pause()}unPauseConnection(){var e;return(null===(e=this.provider)||void 0===e?void 0:e.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){let e=function(){if("undefined"!=typeof document)return document}();if(e)try{e.addEventListener("visibilitychange",()=>{e.hidden?this.pauseConnection():this.unPauseConnection()})}catch(e){console.error("Cannot subscribe to the document.visibilitychange: ",e)}}createProvider(e){let t;return(t=!Array.isArray(e)&&"jsBridgeKey"in e?new D(this.dappSettings.storage,e.jsBridgeKey):new I(this.dappSettings.storage,e)).listen(this.walletEventsListener.bind(this)),t}walletEventsListener(e){switch(e.event){case"connect":this.onWalletConnected(e.payload);break;case"connect_error":this.onWalletConnectError(e.payload);break;case"disconnect":this.onWalletDisconnected()}}onWalletConnected(e){let t=e.items.find(e=>"ton_addr"===e.name),n=e.items.find(e=>"ton_proof"===e.name);if(!t)throw new o("ton_addr connection item was not found");let r={device:e.device,provider:this.provider.type,account:{address:t.address,chain:t.network,walletStateInit:t.walletStateInit,publicKey:t.publicKey}};n&&(r.connectItems={tonProof:n}),this.wallet=r}onWalletConnectError(e){let t=E.parseError(e);if(this.statusChangeErrorSubscriptions.forEach(e=>e(t)),console.debug(t),t instanceof c||t instanceof a)throw console.error(t),t}onWalletDisconnected(){this.wallet=null}checkConnection(){if(!this.connected)throw new u}createConnectRequest(e){let t=[{name:"ton_addr"}];return(null==e?void 0:e.tonProof)&&t.push({name:"ton_proof",payload:e.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:t}}}function G(e,t=!1){let{wc:n,hex:i}=function(e){if(!e.includes(":"))throw new w(`Wrong address ${e}. Address must include ":".`);let t=e.split(":");if(2!==t.length)throw new w(`Wrong address ${e}. Address must include ":" only once.`);let n=parseInt(t[0]);if(0!==n&&-1!==n)throw new w(`Wrong address ${e}. WC must be eq 0 or -1, but ${n} received.`);let r=t[1];if((null==r?void 0:r.length)!==64)throw new w(`Wrong address ${e}. Hex part must be 64bytes length, but ${null==r?void 0:r.length} received.`);return{wc:n,hex:function(e){let t=(e=e.toLowerCase()).length;if(t%2!=0)throw new y("Hex string must have length a multiple of 2: "+e);let n=t/2,r=new Uint8Array(n);for(let t=0;t<n;t++){let n=2*t,i=e.substring(n,n+2);if(!J.hasOwnProperty(i))throw new y("Invalid hex character: "+i);r[t]=J[i]}return r}(r)}}(e),o=17;t&&(o|=128);let s=new Int8Array(34);s[0]=o,s[1]=n,s.set(i,2);let a=new Uint8Array(36);return a.set(s),a.set(function(e){let t=0,n=new Uint8Array(e.length+2);for(let r of(n.set(e),n)){let e=128;for(;e>0;)t<<=1,r&e&&(t+=1),e>>=1,t>65535&&(t&=65535,t^=4129)}return new Uint8Array([Math.floor(t/256),t%256])}(s),34),r.DS.encode(a).replace(/\+/g,"-").replace(/\//g,"_")}F.walletsList=new H,F.isWalletInjected=e=>D.isWalletInjected(e),F.isInsideWalletBrowser=e=>D.isInsideWalletBrowser(e);let J={};for(let e=0;e<=255;e++){let t=e.toString(16);t.length<2&&(t="0"+t),J[t]=e}}}]);